<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ocrd.processor.base module &#8212; ocrd 3.0.0
 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=12dfc556" />
    <script src="../../_static/documentation_options.js?v=acc74ff5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/ocrd-custom.js?v=285d69d9"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ocrd.processor.helpers module" href="ocrd.processor.helpers.html" />
    <link rel="prev" title="ocrd.processor.builtin.filter_processor module" href="ocrd.processor.builtin.filter_processor.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  
    <link rel="canonical" href="https://ocr-d.deapi/ocrd/ocrd.processor.base.html" />
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-ocrd.processor.base">
<span id="ocrd-processor-base-module"></span><h1>ocrd.processor.base module<a class="headerlink" href="#module-ocrd.processor.base" title="Link to this heading">¶</a></h1>
<p>Processor base class and helper functions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ocrd.processor.base.</span></span><span class="sig-name descname"><span class="pre">Processor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="ocrd.workspace.html#ocrd.workspace.Workspace" title="ocrd.workspace.Workspace"><span class="pre">Workspace</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ocrd_tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_file_grp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_grp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A processor is a tool that implements the uniform OCR-D
<a class="reference external" href="https://ocr-d.de/en/spec/cli">command-line interface for run-time data processing</a>.</p>
<p>That is, it executes a single workflow step, or a combination of workflow steps,
on the workspace (represented by local METS). It reads input files for all or selected
physical pages of the input fileGrp(s), computes additional annotation, and writes output
files for them into the output fileGrp(s). It may take a number of optional or mandatory
parameters.</p>
<p>Instantiate, but do not setup (neither for processing nor other usage).
If given, do parse and validate <code class="xref py py-data docutils literal notranslate"><span class="pre">parameter</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>workspace</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Workspace</span></code>) – The workspace to process.                  If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, then <cite>chdir</cite> to that directory.
Deprecated since version 3.0: Should be <code class="docutils literal notranslate"><span class="pre">None</span></code> here, but then needs to be set                  before processing.</p>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>parameter</strong> (<em>string</em>) – JSON of the runtime choices for ocrd-tool <code class="docutils literal notranslate"><span class="pre">parameters</span></code>.                  Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> even for processing, but then needs to be set before running.</p></li>
<li><p><strong>input_file_grp</strong> (<em>string</em>) – comma-separated list of METS <code class="docutils literal notranslate"><span class="pre">fileGrp</span></code> used for input.                  Deprecated since version 3.0: Should be <code class="docutils literal notranslate"><span class="pre">None</span></code> here, but then needs to be set                  before processing.</p></li>
<li><p><strong>output_file_grp</strong> (<em>string</em>) – comma-separated list of METS <code class="docutils literal notranslate"><span class="pre">fileGrp</span></code> used for output.                  Deprecated since version 3.0: Should be <code class="docutils literal notranslate"><span class="pre">None</span></code> here, but then needs to be set                  before processing.</p></li>
<li><p><strong>page_id</strong> (<em>string</em>) – comma-separated list of METS physical <code class="docutils literal notranslate"><span class="pre">page</span></code> IDs to process                  (or empty for all pages).                  Deprecated since version 3.0: Should be <code class="docutils literal notranslate"><span class="pre">None</span></code> here, but then needs to be set                  before processing.</p></li>
<li><p><strong>download_files</strong> (<em>boolean</em>) – Whether input files will be downloaded prior to processing,                  defaults to <code class="xref py py-attr docutils literal notranslate"><span class="pre">ocrd_utils.config.OCRD_DOWNLOAD_INPUT</span></code> which is <code class="docutils literal notranslate"><span class="pre">True</span></code> by default</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.max_instances">
<span class="sig-name descname"><span class="pre">max_instances</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.max_instances" title="Link to this definition">¶</a></dt>
<dd><p>maximum number of cached instances (ignored if negative), to be applied on top of
<code class="xref py py-data docutils literal notranslate"><span class="pre">OCRD_MAX_PROCESSOR_CACHE</span></code> (i.e. whatever is smaller).</p>
<p>(Override this if you know how many instances fit into memory - GPU / CPU RAM - at once.)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.max_workers">
<span class="sig-name descname"><span class="pre">max_workers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.max_workers" title="Link to this definition">¶</a></dt>
<dd><p>maximum number of processor forks for page-parallel processing (ignored if negative),
to be applied on top of <code class="xref py py-data docutils literal notranslate"><span class="pre">OCRD_MAX_PARALLEL_PAGES</span></code> (i.e.
whatever is smaller).</p>
<p>(Override this if you know how many pages fit into processing units - GPU shaders / CPU cores
- at once, or if your class already creates threads prior to forking, e.g. during <code class="docutils literal notranslate"><span class="pre">setup</span></code>.)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.max_page_seconds">
<span class="sig-name descname"><span class="pre">max_page_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.max_page_seconds" title="Link to this definition">¶</a></dt>
<dd><p>maximum number of seconds may be spent processing a single page (ignored if negative),
to be applied on top of <code class="xref py py-data docutils literal notranslate"><span class="pre">OCRD_PROCESSING_PAGE_TIMEOUT</span></code>
(i.e. whatever is smaller).</p>
<p>(Override this if you know how costly this processor may be, irrespective of image size
or complexity of the page.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.metadata_filename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata_filename</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.metadata_filename" title="Link to this definition">¶</a></dt>
<dd><p>Relative location of the <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> file inside the package.</p>
<p>Used by <a class="reference internal" href="#ocrd.processor.base.Processor.metadata_location" title="ocrd.processor.base.Processor.metadata_location"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata_location</span></code></a>.</p>
<p>(Override if <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> is not in the root of the module,
e.g. <code class="docutils literal notranslate"><span class="pre">namespace/ocrd-tool.json</span></code> or <code class="docutils literal notranslate"><span class="pre">data/ocrd-tool.json</span></code>).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.metadata_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata_location</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.metadata_location" title="Link to this definition">¶</a></dt>
<dd><p>Absolute path of the <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> file as distributed with the package.</p>
<p>Used by <a class="reference internal" href="#ocrd.processor.base.Processor.metadata_rawdict" title="ocrd.processor.base.Processor.metadata_rawdict"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata_rawdict</span></code></a>.</p>
<p>(Override if <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> is not distributed with the Python package.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.metadata_rawdict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata_rawdict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.metadata_rawdict" title="Link to this definition">¶</a></dt>
<dd><p>Raw (unvalidated, unexpanded) <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> dict contents of the package.</p>
<p>Used by <a class="reference internal" href="#ocrd.processor.base.Processor.metadata" title="ocrd.processor.base.Processor.metadata"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata</span></code></a>.</p>
<p>(Override if <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> is not in a file.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.metadata" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> dict contents of the package, according to the OCR-D
<a class="reference external" href="https://ocr-d.de/en/spec/ocrd_tool">spec</a> for processor tools.</p>
<p>After deserialisation, it also gets validated against the
<a class="reference external" href="https://ocr-d.de/en/spec/ocrd_tool#definition">schema</a> with all defaults
expanded.</p>
<p>Used by <a class="reference internal" href="#ocrd.processor.base.Processor.ocrd_tool" title="ocrd.processor.base.Processor.ocrd_tool"><code class="xref py py-data docutils literal notranslate"><span class="pre">ocrd_tool</span></code></a> and <a class="reference internal" href="#ocrd.processor.base.Processor.version" title="ocrd.processor.base.Processor.version"><code class="xref py py-data docutils literal notranslate"><span class="pre">version</span></code></a>.</p>
<p>(Override if you want to provide metadata programmatically instead of a
JSON file.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.ocrd_tool">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ocrd_tool</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.ocrd_tool" title="Link to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code> dict contents of this processor tool.
Usually the <a class="reference internal" href="#ocrd.processor.base.Processor.executable" title="ocrd.processor.base.Processor.executable"><code class="xref py py-data docutils literal notranslate"><span class="pre">executable</span></code></a> key of the <code class="docutils literal notranslate"><span class="pre">tools</span></code> part
of <a class="reference internal" href="#ocrd.processor.base.Processor.metadata" title="ocrd.processor.base.Processor.metadata"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata</span></code></a>.</p>
<p>(Override if you do not want to use <a class="reference internal" href="#ocrd.processor.base.Processor.metadata" title="ocrd.processor.base.Processor.metadata"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata</span></code></a> lookup
mechanism.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.executable">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">executable</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.executable" title="Link to this definition">¶</a></dt>
<dd><p>The executable name of this processor tool. Taken from the runtime
filename.</p>
<p>Used by <a class="reference internal" href="#ocrd.processor.base.Processor.ocrd_tool" title="ocrd.processor.base.Processor.ocrd_tool"><code class="xref py py-data docutils literal notranslate"><span class="pre">ocrd_tool</span></code></a> for lookup in <a class="reference internal" href="#ocrd.processor.base.Processor.metadata" title="ocrd.processor.base.Processor.metadata"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata</span></code></a>.</p>
<p>(Override if your entry-point name deviates from the <code class="docutils literal notranslate"><span class="pre">executable</span></code>
name, or the processor gets instantiated from another runtime.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.version" title="Link to this definition">¶</a></dt>
<dd><p>The program version of the package.
Usually the <code class="docutils literal notranslate"><span class="pre">version</span></code> part of <a class="reference internal" href="#ocrd.processor.base.Processor.metadata" title="ocrd.processor.base.Processor.metadata"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata</span></code></a>.</p>
<p>(Override if you do not want to use <a class="reference internal" href="#ocrd.processor.base.Processor.metadata" title="ocrd.processor.base.Processor.metadata"><code class="xref py py-data docutils literal notranslate"><span class="pre">metadata</span></code></a> lookup
mechanism.)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.parameter">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#ocrd.processor.base.Processor.parameter" title="Link to this definition">¶</a></dt>
<dd><p>the runtime parameter dict to be used by this processor</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.show_help">
<span class="sig-name descname"><span class="pre">show_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subcommand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.show_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.show_help" title="Link to this definition">¶</a></dt>
<dd><p>Print a usage description including the standard CLI and all of this processor’s ocrd-tool
parameters and docstrings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.show_version">
<span class="sig-name descname"><span class="pre">show_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.show_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.show_version" title="Link to this definition">¶</a></dt>
<dd><p>Print information on this processor’s version and OCR-D version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.verify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.verify" title="Link to this definition">¶</a></dt>
<dd><p>Verify that <code class="xref py py-attr docutils literal notranslate"><span class="pre">input_file_grp</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">output_file_grp</span></code> fulfill the processor’s requirements.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.dump_json">
<span class="sig-name descname"><span class="pre">dump_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.dump_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.dump_json" title="Link to this definition">¶</a></dt>
<dd><p>Print <a class="reference internal" href="#ocrd.processor.base.Processor.ocrd_tool" title="ocrd.processor.base.Processor.ocrd_tool"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ocrd_tool</span></code></a> on stdout.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.dump_module_dir">
<span class="sig-name descname"><span class="pre">dump_module_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.dump_module_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.dump_module_dir" title="Link to this definition">¶</a></dt>
<dd><p>Print <a class="reference internal" href="#ocrd.processor.base.Processor.moduledir" title="ocrd.processor.base.Processor.moduledir"><code class="xref py py-attr docutils literal notranslate"><span class="pre">moduledir</span></code></a> on stdout.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.list_resources">
<span class="sig-name descname"><span class="pre">list_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.list_resources"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.list_resources" title="Link to this definition">¶</a></dt>
<dd><p>Find all installed resource files in the search paths and print their path names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.setup" title="Link to this definition">¶</a></dt>
<dd><p>Prepare the processor for actual data processing,
prior to changing to the workspace directory but
after parsing parameters.</p>
<p>(Override this to load models into memory etc.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.shutdown">
<span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.shutdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.shutdown" title="Link to this definition">¶</a></dt>
<dd><p>Bring down the processor after data processing,
after to changing back from the workspace directory but
before exiting (or setting up with different parameters).</p>
<p>(Override this to unload models from memory etc.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process" title="Link to this definition">¶</a></dt>
<dd><p>Process all files of the <code class="xref py py-data docutils literal notranslate"><span class="pre">workspace</span></code>
from the given <code class="xref py py-data docutils literal notranslate"><span class="pre">input_file_grp</span></code>
to the given <code class="xref py py-data docutils literal notranslate"><span class="pre">output_file_grp</span></code>
for the given <code class="xref py py-data docutils literal notranslate"><span class="pre">page_id</span></code> (or all pages)
under the given <a class="reference internal" href="#ocrd.processor.base.Processor.parameter" title="ocrd.processor.base.Processor.parameter"><code class="xref py py-data docutils literal notranslate"><span class="pre">parameter</span></code></a>.</p>
<p>(This contains the main functionality and needs to be
overridden by subclasses.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_workspace">
<span class="sig-name descname"><span class="pre">process_workspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workspace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="ocrd.workspace.html#ocrd.workspace.Workspace" title="ocrd.workspace.Workspace"><span class="pre">Workspace</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_workspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_workspace" title="Link to this definition">¶</a></dt>
<dd><p>Process all files of the given <code class="docutils literal notranslate"><span class="pre">workspace</span></code>,
from the given <code class="xref py py-data docutils literal notranslate"><span class="pre">input_file_grp</span></code>
to the given <code class="xref py py-data docutils literal notranslate"><span class="pre">output_file_grp</span></code>
for the given <code class="xref py py-data docutils literal notranslate"><span class="pre">page_id</span></code> (or all pages)
under the given <a class="reference internal" href="#ocrd.processor.base.Processor.parameter" title="ocrd.processor.base.Processor.parameter"><code class="xref py py-data docutils literal notranslate"><span class="pre">parameter</span></code></a>.</p>
<p>Delegates to <a class="reference internal" href="#ocrd.processor.base.Processor.process_workspace_submit_tasks" title="ocrd.processor.base.Processor.process_workspace_submit_tasks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_workspace_submit_tasks()</span></code></a>
and <a class="reference internal" href="#ocrd.processor.base.Processor.process_workspace_handle_tasks" title="ocrd.processor.base.Processor.process_workspace_handle_tasks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_workspace_handle_tasks()</span></code></a>.</p>
<p>(This will iterate over pages and files, calling
<a class="reference internal" href="#ocrd.processor.base.Processor.process_page_file" title="ocrd.processor.base.Processor.process_page_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_page_file()</span></code></a> and handling exceptions.
It should be overridden by subclasses to handle cases
like post-processing or computation across pages.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_workspace_submit_tasks">
<span class="sig-name descname"><span class="pre">process_workspace_submit_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">executor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DummyExecutor</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ProcessPoolExecutor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">DummyFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Future</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><span class="pre">OcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.ClientSideOcrdFile" title="ocrd_models.ocrd_file.ClientSideOcrdFile"><span class="pre">ClientSideOcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_workspace_submit_tasks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_workspace_submit_tasks" title="Link to this definition">¶</a></dt>
<dd><p>Look up all input files of the given <code class="docutils literal notranslate"><span class="pre">workspace</span></code>
from the given <code class="xref py py-data docutils literal notranslate"><span class="pre">input_file_grp</span></code>
for the given <code class="xref py py-data docutils literal notranslate"><span class="pre">page_id</span></code> (or all pages),
and schedules calling <a class="reference internal" href="#ocrd.processor.base.Processor.process_page_file" title="ocrd.processor.base.Processor.process_page_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_page_file()</span></code></a>
on them for each page via <cite>executor</cite> (enforcing
a per-page time limit of <cite>max_seconds</cite>).</p>
<p>When running with <cite>OCRD_MAX_PARALLEL_PAGES&gt;1</cite> and
the workspace via METS Server, the executor will fork
this many worker parallel subprocesses each processing
one page at a time. (Interprocess communication is
done via task and result queues.)</p>
<p>Otherwise, tasks are run sequentially in the
current process.</p>
<p>Delegates to <a class="reference internal" href="#ocrd.processor.base.Processor.zip_input_files" title="ocrd.processor.base.Processor.zip_input_files"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zip_input_files()</span></code></a> to get
the input files for each page, and then calls
<a class="reference internal" href="#ocrd.processor.base.Processor.process_workspace_submit_page_task" title="ocrd.processor.base.Processor.process_workspace_submit_page_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_workspace_submit_page_task()</span></code></a>.</p>
<p>Returns a dict mapping the per-page tasks
(i.e. futures submitted to the executor)
to their corresponding pageId and input files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_workspace_submit_page_task">
<span class="sig-name descname"><span class="pre">process_workspace_submit_page_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">executor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DummyExecutor</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ProcessPoolExecutor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_file_tuple</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><span class="pre">OcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.ClientSideOcrdFile" title="ocrd_models.ocrd_file.ClientSideOcrdFile"><span class="pre">ClientSideOcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DummyFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Future</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><span class="pre">OcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.ClientSideOcrdFile" title="ocrd_models.ocrd_file.ClientSideOcrdFile"><span class="pre">ClientSideOcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_workspace_submit_page_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_workspace_submit_page_task" title="Link to this definition">¶</a></dt>
<dd><p>Ensure all input files for a single page are
downloaded to the workspace, then schedule
<code class="xref py py-meth docutils literal notranslate"><span class="pre">process_process_file()</span></code> to be run on
them via <cite>executor</cite> (enforcing a per-page time
limit of <cite>max_seconds</cite>).</p>
<p>Delegates to <a class="reference internal" href="#ocrd.processor.base.Processor.process_page_file" title="ocrd.processor.base.Processor.process_page_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_page_file()</span></code></a>
(wrapped in <code class="xref py py-func docutils literal notranslate"><span class="pre">_page_worker()</span></code> to share
the processor instance across forked processes).</p>
<p>
Returns a tuple of:
- the scheduled future object,
- the corresponding pageId,
- the corresponding input files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_workspace_handle_tasks">
<span class="sig-name descname"><span class="pre">process_workspace_handle_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">DummyFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Future</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><span class="pre">OcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.ClientSideOcrdFile" title="ocrd_models.ocrd_file.ClientSideOcrdFile"><span class="pre">ClientSideOcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_workspace_handle_tasks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_workspace_handle_tasks" title="Link to this definition">¶</a></dt>
<dd><p>Look up scheduled per-page futures one by one,
handle errors (exceptions) and gather results.</p>
<p>
Enforces policies configured by the following
environment variables:
- <cite>OCRD_EXISTING_OUTPUT</cite> (abort/skip/overwrite)
- <cite>OCRD_MISSING_OUTPUT</cite> (abort/skip/fallback-copy)
- <cite>OCRD_MAX_MISSING_OUTPUTS</cite> (abort after all).</p>
<p>
Returns a tuple of:
- the number of successfully processed pages
- the number of failed (i.e. skipped or copied) pages
- a dict of the type and corresponding number of exceptions seen
- the number of total requested pages (i.e. success+fail+existing).</p>
<p>Delegates to <a class="reference internal" href="#ocrd.processor.base.Processor.process_workspace_handle_page_task" title="ocrd.processor.base.Processor.process_workspace_handle_page_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_workspace_handle_page_task()</span></code></a>
for each page.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_workspace_handle_page_task">
<span class="sig-name descname"><span class="pre">process_workspace_handle_page_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><span class="pre">OcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.ClientSideOcrdFile" title="ocrd_models.ocrd_file.ClientSideOcrdFile"><span class="pre">ClientSideOcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DummyFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Future</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Exception</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_workspace_handle_page_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_workspace_handle_page_task" title="Link to this definition">¶</a></dt>
<dd><p>
Await a single page result and handle errors (exceptions),
enforcing policies configured by the following
environment variables:
- <cite>OCRD_EXISTING_OUTPUT</cite> (abort/skip/overwrite)
- <cite>OCRD_MISSING_OUTPUT</cite> (abort/skip/fallback-copy)
- <cite>OCRD_MAX_MISSING_OUTPUTS</cite> (abort after all).</p>
<p>
Returns
- true in case of success
- false in case the output already exists
- the exception in case of failure</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_page_file">
<span class="sig-name descname"><span class="pre">process_page_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">input_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><span class="pre">OcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.ClientSideOcrdFile" title="ocrd_models.ocrd_file.ClientSideOcrdFile"><span class="pre">ClientSideOcrdFile</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_page_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_page_file" title="Link to this definition">¶</a></dt>
<dd><p>Process the given <code class="docutils literal notranslate"><span class="pre">input_files</span></code> of the <code class="xref py py-data docutils literal notranslate"><span class="pre">workspace</span></code>,
representing one physical page (passed as one opened
<a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">OcrdFile</span></code></a> per input fileGrp)
under the given <code class="xref py py-data docutils literal notranslate"><span class="pre">parameter</span></code>, and make sure the
results get added accordingly.</p>
<p>(This uses <a class="reference internal" href="#ocrd.processor.base.Processor.process_page_pcgts" title="ocrd.processor.base.Processor.process_page_pcgts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_page_pcgts()</span></code></a>, but should be overridden by subclasses
to handle cases like multiple output fileGrps, non-PAGE input etc.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.process_page_pcgts">
<span class="sig-name descname"><span class="pre">process_page_pcgts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">input_pcgts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_page.html#ocrd_models.ocrd_page.OcrdPage" title="ocrd_models.ocrd_page.OcrdPage"><span class="pre">OcrdPage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="ocrd.processor.ocrd_page_result.html#ocrd.processor.ocrd_page_result.OcrdPageResult" title="ocrd.processor.ocrd_page_result.OcrdPageResult"><span class="pre">OcrdPageResult</span></a></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.process_page_pcgts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.process_page_pcgts" title="Link to this definition">¶</a></dt>
<dd><p>Process the given <code class="docutils literal notranslate"><span class="pre">input_pcgts</span></code> of the <code class="xref py py-data docutils literal notranslate"><span class="pre">workspace</span></code>,
representing one physical page (passed as one parsed
<a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_page.html#ocrd_models.ocrd_page.OcrdPage" title="ocrd_models.ocrd_page.OcrdPage"><code class="xref py py-class docutils literal notranslate"><span class="pre">OcrdPage</span></code></a> per input fileGrp)
under the given <code class="xref py py-data docutils literal notranslate"><span class="pre">parameter</span></code>, and return the
resulting <a class="reference internal" href="ocrd.processor.ocrd_page_result.html#ocrd.processor.ocrd_page_result.OcrdPageResult" title="ocrd.processor.ocrd_page_result.OcrdPageResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">OcrdPageResult</span></code></a>.</p>
<p>Optionally, add to the <code class="docutils literal notranslate"><span class="pre">images</span></code> attribute of the resulting
<a class="reference internal" href="ocrd.processor.ocrd_page_result.html#ocrd.processor.ocrd_page_result.OcrdPageResult" title="ocrd.processor.ocrd_page_result.OcrdPageResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">OcrdPageResult</span></code></a> instances of <a class="reference internal" href="ocrd.processor.ocrd_page_result.html#ocrd.processor.ocrd_page_result.OcrdPageResultImage" title="ocrd.processor.ocrd_page_result.OcrdPageResultImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">OcrdPageResultImage</span></code></a>,
which have required fields for <code class="docutils literal notranslate"><span class="pre">pil</span></code> (<code class="xref py py-class docutils literal notranslate"><span class="pre">PIL.Image</span></code> image data),
<code class="docutils literal notranslate"><span class="pre">file_id_suffix</span></code> (used for generating IDs of the saved image) and
<code class="docutils literal notranslate"><span class="pre">alternative_image</span></code> (reference of the <a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_page.html#ocrd_models.ocrd_page.AlternativeImageType" title="ocrd_models.ocrd_page.AlternativeImageType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocrd_models.ocrd_page.AlternativeImageType</span></code></a>
for setting the filename of the saved image).</p>
<p>(This contains the main functionality and must be overridden by subclasses,
unless it does not get called by some overriden <a class="reference internal" href="#ocrd.processor.base.Processor.process_page_file" title="ocrd.processor.base.Processor.process_page_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_page_file()</span></code></a>.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.add_metadata">
<span class="sig-name descname"><span class="pre">add_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pcgts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_page.html#ocrd_models.ocrd_page.OcrdPage" title="ocrd_models.ocrd_page.OcrdPage"><span class="pre">OcrdPage</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.add_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.add_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Add PAGE-XML <a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_page.html#ocrd_models.ocrd_page.MetadataItemType" title="ocrd_models.ocrd_page.MetadataItemType"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataItemType</span></code></a> <code class="docutils literal notranslate"><span class="pre">MetadataItem</span></code> describing
the processing step and runtime parameters to <a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_page.html#ocrd_models.ocrd_page.OcrdPage" title="ocrd_models.ocrd_page.OcrdPage"><code class="xref py py-class docutils literal notranslate"><span class="pre">OcrdPage</span></code></a> <code class="docutils literal notranslate"><span class="pre">pcgts</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.resolve_resource">
<span class="sig-name descname"><span class="pre">resolve_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.resolve_resource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.resolve_resource" title="Link to this definition">¶</a></dt>
<dd><p>Resolve a resource name to an absolute file path with the algorithm in
<a class="reference external" href="https://ocr-d.de/en/spec/ocrd_tool#file-parameters">spec</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> (<em>string</em>) – resource value to resolve</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.show_resource">
<span class="sig-name descname"><span class="pre">show_resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.show_resource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.show_resource" title="Link to this definition">¶</a></dt>
<dd><p>Resolve a resource name to a file path with the algorithm in
<a class="reference external" href="https://ocr-d.de/en/spec/ocrd_tool#file-parameters">spec</a>,
then print its contents to stdout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> (<em>string</em>) – resource value to show</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.list_all_resources">
<span class="sig-name descname"><span class="pre">list_all_resources</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.list_all_resources"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.list_all_resources" title="Link to this definition">¶</a></dt>
<dd><p>List all resources found in the filesystem and matching content-type by filename suffix</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.module">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">module</span></span><a class="headerlink" href="#ocrd.processor.base.Processor.module" title="Link to this definition">¶</a></dt>
<dd><p>The top-level module this processor belongs to.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.moduledir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">moduledir</span></span><a class="headerlink" href="#ocrd.processor.base.Processor.moduledir" title="Link to this definition">¶</a></dt>
<dd><p>The filesystem path of the module directory.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.input_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_files</span></span><a class="headerlink" href="#ocrd.processor.base.Processor.input_files" title="Link to this definition">¶</a></dt>
<dd><p>List the input files (for single-valued <code class="xref py py-attr docutils literal notranslate"><span class="pre">input_file_grp</span></code>).</p>
<p>For each physical page:</p>
<ul class="simple">
<li><p>If there is a single PAGE-XML for the page, take it (and forget about all
other files for that page)</p></li>
<li><p>Else if there is a single image file, take it (and forget about all other
files for that page)</p></li>
<li><p>Otherwise raise an error (complaining that only PAGE-XML warrants
having multiple images for a single page)</p></li>
</ul>
<p>See <a class="reference external" href="https://github.com/cisocrgroup/ocrd_cis/pull/57#issuecomment-656336593">algorithm</a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of <a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocrd_models.ocrd_file.OcrdFile</span></code></a> objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ocrd.processor.base.Processor.zip_input_files">
<span class="sig-name descname"><span class="pre">zip_input_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">require_first</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mimetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'skip'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#Processor.zip_input_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.Processor.zip_input_files" title="Link to this definition">¶</a></dt>
<dd><p>List tuples of input files (for multi-valued <code class="xref py py-attr docutils literal notranslate"><span class="pre">input_file_grp</span></code>).</p>
<p>Processors that expect/need multiple input file groups,
cannot use <a class="reference internal" href="#ocrd.processor.base.Processor.input_files" title="ocrd.processor.base.Processor.input_files"><code class="xref py py-data docutils literal notranslate"><span class="pre">input_files</span></code></a>. They must align (zip) input files
across pages. This includes the case where not all pages
are equally present in all file groups. It also requires
making a consistent selection if there are multiple files
per page.</p>
<p>Following the OCR-D functional model, this function tries to
find a single PAGE file per page, or fall back to a single
image file per page. In either case, multiple matches per page
are an error (see error handling below).
This default behaviour can be changed by using a fixed MIME
type filter via <code class="xref py py-attr docutils literal notranslate"><span class="pre">mimetype</span></code>. But still, multiple matching
files per page are an error.</p>
<p>Single-page multiple-file errors are handled according to
<code class="xref py py-attr docutils literal notranslate"><span class="pre">on_error</span></code>:</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">skip</span></code>, then the page for the respective fileGrp will be
silently skipped (as if there was no match at all)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">first</span></code>, then the first matching file for the page will be
silently selected (as if the first was the only match)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">last</span></code>, then the last matching file for the page will be
silently selected (as if the last was the only match)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">abort</span></code>, then an exception will be raised.</p></li>
</ul>
<p>Multiple matches for PAGE-XML will always raise an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>require_first</strong> (<em>boolean</em>) – If true, then skip a page entirely
whenever it is not available in the first input <cite>fileGrp</cite>.</p></li>
<li><p><strong>on_error</strong> (<em>string</em>) – How to handle multiple file matches per page.</p></li>
<li><p><strong>mimetype</strong> (<em>string</em>) – If not <cite>None</cite>, filter by the specified MIME
type (literal or regex prefixed by <cite>//</cite>). Otherwise prefer
PAGE or image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of <a class="reference internal" href="../ocrd_models/ocrd_models.ocrd_file.html#ocrd_models.ocrd_file.OcrdFile" title="ocrd_models.ocrd_file.OcrdFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ocrd_models.ocrd_file.OcrdFile</span></code></a> tuples.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ocrd.processor.base.generate_processor_help">
<span class="sig-prename descclassname"><span class="pre">ocrd.processor.base.</span></span><span class="sig-name descname"><span class="pre">generate_processor_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ocrd_tool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processor_instance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subcommand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/base.html#generate_processor_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.generate_processor_help" title="Link to this definition">¶</a></dt>
<dd><p>Generate a string describing the full CLI of this processor including params.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ocrd_tool</strong> (<em>dict</em>) – this processor’s <code class="docutils literal notranslate"><span class="pre">tools</span></code> section of the module’s <code class="docutils literal notranslate"><span class="pre">ocrd-tool.json</span></code></p></li>
<li><p><strong>processor_instance</strong> – the processor implementation
(for adding any module/class/function docstrings)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ocrd.processor.base.run_cli">
<span class="sig-prename descclassname"><span class="pre">ocrd.processor.base.</span></span><span class="sig-name descname"><span class="pre">run_cli</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">executable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mets_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_file_grp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_grp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mets_server_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/helpers.html#run_cli"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.run_cli" title="Link to this definition">¶</a></dt>
<dd><p>Open a workspace and run a processor on the command line.</p>
<p>If <code class="xref py py-attr docutils literal notranslate"><span class="pre">workspace</span></code> is not none, reuse that. Otherwise, instantiate an
<code class="xref py py-class docutils literal notranslate"><span class="pre">Workspace</span></code> for <code class="xref py py-attr docutils literal notranslate"><span class="pre">mets_url</span></code> (and <code class="xref py py-attr docutils literal notranslate"><span class="pre">working_dir</span></code>)
by using <code class="xref py py-meth docutils literal notranslate"><span class="pre">ocrd.Resolver.workspace_from_url()</span></code> (i.e. open or clone local workspace).</p>
<p>Run the processor CLI <code class="xref py py-attr docutils literal notranslate"><span class="pre">executable</span></code> on the workspace, passing:
- the workspace,
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">page_id</span></code>
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">input_file_grp</span></code>
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">output_file_grp</span></code>
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">parameter</span></code> (after applying any <code class="xref py py-attr docutils literal notranslate"><span class="pre">parameter_override</span></code> settings)</p>
<p>(Will create output files and update the in the filesystem).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>executable</strong> (<em>string</em>) – Executable name of the module processor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ocrd.processor.base.run_processor">
<span class="sig-prename descclassname"><span class="pre">ocrd.processor.base.</span></span><span class="sig-name descname"><span class="pre">run_processor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">processorClass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mets_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_file_grp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_grp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mets_server_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_caching</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ocrd/processor/helpers.html#run_processor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ocrd.processor.base.run_processor" title="Link to this definition">¶</a></dt>
<dd><p>Instantiate a Pythonic processor, open a workspace, run the processor and save the workspace.</p>
<p>If <code class="xref py py-attr docutils literal notranslate"><span class="pre">workspace</span></code> is not none, reuse that. Otherwise, instantiate an
<code class="xref py py-class docutils literal notranslate"><span class="pre">Workspace</span></code> for <code class="xref py py-attr docutils literal notranslate"><span class="pre">mets_url</span></code> (and <code class="xref py py-attr docutils literal notranslate"><span class="pre">working_dir</span></code>)
by using <code class="xref py py-meth docutils literal notranslate"><span class="pre">ocrd.Resolver.workspace_from_url()</span></code> (i.e. open or clone local workspace).</p>
<p>Instantiate a Python object for <code class="xref py py-attr docutils literal notranslate"><span class="pre">processorClass</span></code>, passing:
- the workspace,
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">page_id</span></code>
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">input_file_grp</span></code>
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">output_file_grp</span></code>
- <code class="xref py py-attr docutils literal notranslate"><span class="pre">parameter</span></code> (after applying any <code class="xref py py-attr docutils literal notranslate"><span class="pre">parameter_override</span></code> settings)</p>
<p>Warning: Avoid setting the <cite>instance_caching</cite> flag to True. It may have unexpected side effects.
This flag is used for an experimental feature we would like to adopt in future.</p>
<p>Run the processor on the workspace (creating output files in the filesystem).</p>
<p>Finally, write back the workspace (updating the METS in the filesystem).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>processorClass</strong> (<em>object</em>) – Python class of the module processor.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/ocrd-logo-small.png" alt="Logo" />
    
    <h1 class="logo logo-name">OCR-D/core</h1>
    
  </a>
</p>



<p class="blurb">Software library for OCR-D</p>






<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">ocrd</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ocrd.html">ocrd package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ocrd.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ocrd.cli.html">ocrd.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="ocrd.decorators.html">ocrd.decorators package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="ocrd.processor.html">ocrd.processor package</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="ocrd.processor.html#subpackages">Subpackages</a></li>
<li class="toctree-l5 current"><a class="reference internal" href="ocrd.processor.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ocrd.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ocrd_utils/modules.html">ocrd_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocrd_modelfactory/modules.html">ocrd_modelfactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocrd_models/modules.html">ocrd_models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocrd_validators/modules.html">ocrd_validators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocrd_network/modules.html">ocrd_network</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">ocrd</a><ul>
  <li><a href="ocrd.html">ocrd package</a><ul>
  <li><a href="ocrd.processor.html">ocrd.processor package</a><ul>
      <li>Previous: <a href="ocrd.processor.builtin.filter_processor.html" title="previous chapter">ocrd.processor.builtin.filter_processor module</a></li>
      <li>Next: <a href="ocrd.processor.helpers.html" title="next chapter">ocrd.processor.helpers module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2018-2024, OCR-D.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/api/ocrd/ocrd.processor.base.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>