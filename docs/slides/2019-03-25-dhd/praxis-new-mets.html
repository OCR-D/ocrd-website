<!DOCTYPE html>
<html lang="de"><head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="shortcut icon" href="https://avatars0.githubusercontent.com/u/26362587?s=200&amp;v=4"></link>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/bulma.css"></link>
  <link rel="stylesheet" href="/assets/syntax-highlight.css"></link>
  <link rel="stylesheet" href="/assets/ocrd.css"></link>
</head>
<body><nav class="navbar is-transparent is-fixed-top">

  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/assets/ocrd-logo-small.png" height="28"/>
    </a>
    <div class="navbar-burger burger" data-target="ocrd-navbar-menu">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <div id="ocrd-navbar-menu" class="navbar-menu">
    <div class="navbar-start">
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/de/">Über</a>
        <div class="navbar-dropdown">
          
          
          <a class="navbar-item" href="/de/about">Das OCR-D-Projekt</a>
          
          
          <a class="navbar-item" href="/de/contact">Kontaktieren Sie uns!</a>
          
          
          <a class="navbar-item" href="/de/blog">Blog</a>
          
          
          <a class="navbar-item" href="/de/publications">Publikationen und Vorträge</a>
          
          
          <a class="navbar-item" href="/de/module-projects">Modulprojekte</a>
          
          
          <a class="navbar-item" href="/de/data">Daten</a>
          
          
          <a class="navbar-item" href="/de/user_survey">Nutzumfrage</a>
          
          
          <a class="navbar-item" href="/de/imprint">Impressum</a>
          
        </div>
      </div>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/de/dev">Entwickler*innen</a>
        <div class="navbar-dropdown">
          
          
          <a class="navbar-item" href="/de/gt-guidelines/trans">Ground Truth Richtlinien</a>
          
          
          <a class="navbar-item" href="/de/gt-guidelines/trans/trPage">PAGE-XML Formatdokumentation</a>
          
          
          <a class="navbar-item" href="/de/spec">Spezifikationen</a>
          
          
          <a class="navbar-item" href="/core">OCR-D/core API Dokumentation</a>
          
        </div>
      </div>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/de/use">Anwender*innen</a>
        <div class="navbar-dropdown">
          
          
          <a class="navbar-item" href="/en/setup">Setup Anleitung</a>
          
          
          <a class="navbar-item" href="/en/user_guide">Nutzeranleitung</a>
          
          
          <a class="navbar-item" href="/en/workflows">Workflows</a>
          
          
          <a class="navbar-item" href="/en/cookbook">Kochbuch</a>
          
          
          <a class="navbar-item" href="/de/spec/glossary">Glossar</a>
          
        </div>
      </div>
      
      
      
      <a class="navbar-item" href="/de/faq">FAQ</a>
      
      

    </div>

    <div class="navbar-end">

      <span class="navbar-item">
          
      </span>

    </div> </div> </nav>
<div class="columns">
      
      <aside class="column is-one-third menu is-hidden-mobile">
        <ul class="menu-list column is-one-third">
  <li><a href="#praxis-ocr-von-willkürlichen-bildern">Praxis: OCR von willkürlichen Bildern</a>
    <ul>
      <li><a href="#neues-mets-erzeugen">Neues METS erzeugen</a></li>
      <li><a href="#verzeichnis-für-bild-anlegen">Verzeichnis für Bild anlegen</a></li>
      <li><a href="#bild-herunterladen">Bild herunterladen</a></li>
      <li><a href="#bild-zum-mets-hinzufügen">Bild zum METS hinzufügen</a></li>
      <li><a href="#eindeutigen-identifier-hinzufügen">Eindeutigen Identifier hinzufügen</a></li>
      <li><a href="#validieren">Validieren</a></li>
      <li><a href="#fertig">Fertig!</a></li>
    </ul>
  </li>
</ul>

      </aside>
      

      <main class="container content column is-two-thirds" aria-label="Content">
        <h1 id="praxis-ocr-von-willkürlichen-bildern">Praxis: OCR von willkürlichen Bildern</h1>

<p>Der Fokus von OCR-D ist auf Massendigitalisierung historischer Bestände.
Deswegen wird konsequent immer METS verwendet.</p>

<p>Um mit willkürlichen Bildern innerhalb OCR-D zu arbeiten, müssen wir daher METS
erzeugen.</p>

<p>Als Beispiel verwenden wir die <a href="https://github.com/OCR-D/assets/blob/master/data/communist_manifesto/data/OCR-D-IMG/OCR-D-IMG_0015">erste Seite der englischen Ausgabe des Kommunistischen Manifests</a> (Quelle: https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Manifesto_of_the_Communist_Party.djvu/page15-2745px-Manifesto_of_the_Communist_Party.djvu.jpg).</p>

<h2 id="neues-mets-erzeugen">Neues METS erzeugen</h2>

<p>Der <code class="highlighter-rouge">workspace</code> Unterbefehl erlaubt es, neues METS zu initiieren (<code class="highlighter-rouge">init</code>):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ocrd workspace init communist_manifesto
22:58:38.321 INFO ocrd.resolver - Writing /home/kba/build/github.com/OCR-D/monorepo/slides/2019-03-25-dhd/communist_manifesto/mets.xml
22:58:38.322 INFO ocrd.workspace - Saving mets <span class="s1">'/home/kba/build/github.com/OCR-D/monorepo/slides/2019-03-25-dhd/communist_manifesto/mets.xml'</span>
/home/kba/build/github.com/OCR-D/monorepo/slides/2019-03-25-dhd/communist_manifesto

<span class="nv">$ </span>find communist_manifesto
communist_manifesto
communist_manifesto/mets.xml
</code></pre></div></div>

<h2 id="verzeichnis-für-bild-anlegen">Verzeichnis für Bild anlegen</h2>

<p>Per Konvention heisst die Dateigruppe mit dem unkomprimierten Bild innerhalb von OCR-D immer <code class="highlighter-rouge">OCR-D-IMG</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>communist_manifesto
<span class="nv">$ </span>mkdir OCR-D-IMG
</code></pre></div></div>

<h2 id="bild-herunterladen">Bild herunterladen</h2>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="s1">'https://raw.githubusercontent.com/OCR-D/assets/master/data/communist_manifesto/data/OCR-D-IMG/OCR-D-IMG_0015'</span> <span class="o">&gt;</span> OCR-D-IMG/OCR-D-IMG_0015.png
</code></pre></div></div>

<h2 id="bild-zum-mets-hinzufügen">Bild zum METS hinzufügen</h2>

<p>Dateien können mit dem <code class="highlighter-rouge">add</code> Unterbefehl von <code class="highlighter-rouge">ocrd workspace</code> hinzugefügt werden.</p>

<p>Dafür sind eine Reihe von Parametern notwendig, die Sie der Hilfe entnehmen können:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ocrd workspace add <span class="nt">--help</span>
Usage: ocrd workspace add <span class="o">[</span>OPTIONS] LOCAL_FILENAME

  Add a file LOCAL_FILENAME to METS <span class="k">in </span>a workspace.

Options:
  <span class="nt">-G</span>, <span class="nt">--file-grp</span> TEXT  fileGrp USE  <span class="o">[</span>required]
  <span class="nt">-i</span>, <span class="nt">--file-id</span> TEXT   ID <span class="k">for </span>the file  <span class="o">[</span>required]
  <span class="nt">-m</span>, <span class="nt">--mimetype</span> TEXT  Media <span class="nb">type </span>of the file  <span class="o">[</span>required]
  <span class="nt">-g</span>, <span class="nt">--page-id</span> TEXT   ID of the physical page
  <span class="nt">--force</span>              If file with ID already exists, replace it
  <span class="nt">--help</span>               Show this message and exit.
</code></pre></div></div>

<p>Wir fügen also die Datei hinzu:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ocrd workspace add <span class="nt">-g</span> P0015 <span class="nt">-G</span> OCR-D-IMG <span class="nt">-i</span> OCR-D-IMG_0015 <span class="nt">-m</span> image/png OCR-D-IMG/OCR-D-IMG_0015.png
</code></pre></div></div>

<p>Und überprüfen ob sie wirklich hinzugefügt wurde:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ocrd workspace find
OCR-D-IMG/OCR-D-IMG_0015
</code></pre></div></div>

<h2 id="eindeutigen-identifier-hinzufügen">Eindeutigen Identifier hinzufügen</h2>

<p>Nun setzen wir noch einen eindeutigen Identifier:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ocrd workspace set-id <span class="s1">'1234567890'</span>
</code></pre></div></div>

<h2 id="validieren">Validieren</h2>

<p>Wir können nun überprüfen, ob das Verzeichnis den Anforderungen von OCR-D
genügt. Dazu verwenden wir den <code class="highlighter-rouge">validate</code> Unterbefehl von <code class="highlighter-rouge">ocrd workspace</code>.
Bei der Validierung überspringen wir die Untersuchung der Auflösung, da
diese aus technischen Gründen häufig nicht gegeben ist, was zu Fehlern führt, die keine sind.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ocrd workspace validate <span class="nt">--skip</span> pixel_density mets.xml
&lt;report <span class="nv">valid</span><span class="o">=</span><span class="s2">"true"</span><span class="o">&gt;</span>
&lt;/report&gt;
</code></pre></div></div>

<h2 id="fertig">Fertig!</h2>

<p>Das Verzeichnis ist nun in einer Form, dass es mit OCR-D Werkzeugen weiterverarbeitet werden kann.</p>

<p>Im Ergebnis sollte das von Ihnen erstellte Verzeichnis <a href="https://github.com/OCR-D/assets/tree/master/data/communist_manifesto/data">dem Beispieldatensatz im OCR-D/assets Repository</a> entsprechen.</p>

      </main>
    </div><footer class="footer" style="padding: 1rem">
    <div class="content has-text-centered">
      <img class="footer-logo" src="/assets/dfg_logo_ger.jpg" alt="DFG logo"/>
    </div>
    <!-- <div class="content has-text-centered"> -->
    <!--   <img class="footer-logo" src="/assets/logo-bbaw.png" alt="BBAW logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-hab.gif" alt="HAB logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-kit.png" alt="KIT logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-sbb.png" alt="SBB logo"/> -->
    <!-- </div> -->
    <div class="content has-text-centered">
      <a href="https://github.com/OCR-D">GitHub</a>
      |
      <a href="https://gitter.im/OCR-D/Lobby">gitter</a>
      |
      <a href="https://hub.docker.com/u/ocrd">Docker Hub</a>
      |
      <a href="https://www.zotero.org/groups/418719/ocr-d">Technology Watch</a>
      |
      <a href="/sitemap.xml">sitemap.xml</a>
    </div>

<script src="/assets/script.js"></script>
</footer>
</body>

</html>
