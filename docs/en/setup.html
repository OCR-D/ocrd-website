<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <title>OCR-D setup guide - OCR-D</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="shortcut icon" href="https://avatars0.githubusercontent.com/u/26362587?s=200&amp;v=4" />
  <link href="/assets/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous" />
  <link rel="alternate" type="application/atom+xml" title="OCR-D Blog" href="/feed.xml" />
  <link rel="stylesheet" href="/assets/bulma.css" />
  <link rel="stylesheet" href="/assets/bulma-switch.min.css" />
  <link rel="stylesheet" href="/assets/syntax-highlight.css" />
  <link rel="stylesheet" href="/assets/ocrd.css" />
  <!-- for mathjax support -->
  <script type="text/javascript">
    const getSiblings = function (elem) {

      // Setup siblings array and get the first sibling
      const siblings = [];
      let sibling = elem.parentNode.firstChild;

      // Loop through each sibling and push to the array
      while (sibling) {
        if ((sibling.nodeType === 1 || sibling.nodeType === 3) && sibling !== elem) {
          siblings.push(sibling);
        }
        sibling = sibling.nextSibling
      }

      return siblings;
    };

    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['$$', '$$']],
        processEscapes: true,
      },
      startup: {
        ready: () => {
          MathJax.startup.defaultReady();
          MathJax.startup.promise.then(() => {
            const equations = document.querySelectorAll('.MathJax');

            if (equations.length === 0) return;

            equations.forEach(eq => {
              const siblings = getSiblings(eq);
              if (siblings.length === 0) {
                eq.classList.add('is-block');
              }
            })
          });
        }
      }
    }
  </script>
  <script type="text/javascript" id="MathJax-script" async src="/assets/mathjax/es5/tex-chtml.js">
  </script>
</head>
<body>
<script async src="https://cse.google.com/cse.js?cx=e9e3f7148e57ed66c"></script>


<script>
function ToggleSearchActive2() {
    var T = document.getElementById("button-header")
	var A = document.getElementById("google-search-header");
    T.style.display = "none";  // <-- Set it to none
	A.style.visibility = "visible";  // <-- Set it to visible
}
</script>


<nav class="navbar is-transparent is-fixed-top">

  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/assets/ocrd-logo-small.png" height="28"/>
    </a>
    <div class="navbar-burger burger" data-target="ocrd-navbar-menu">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <div id="ocrd-navbar-menu" class="navbar-menu">
    <div class="navbar-start">
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/">About</a>
        <div class="navbar-dropdown">
          

          
          

            
            <a class="navbar-item" href="/en/blog">News</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/about">About the OCR-D Project</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/phase2">Phase II: Projects</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/phase3">Phase III: Projects</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/community">Community</a>

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/publications">Publications and Presentations</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/data">Data</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/initial-tests">Pilot Study</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/user_survey">User Survey</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/contact">Contacts</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/imprint">Imprint</a>
            

          

          
        </div>
      </div>
      

      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/dev">Technical Resources</a>
        <div class="navbar-dropdown">
          

          
          

            
            <a class="navbar-item" href="/en/decisions">Decision Log</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/gt-guidelines/trans">Ground Truth Guidelines</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/gt-guidelines/trans/trPage">PAGE-XML format documentation</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/dev-best-practice">OCR-D development best practices</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/spec">Specifications</a>

          

          

          
          

            
            <a class="navbar-item" href="/core">OCR-D/core API Documentation</a>

          

          
        </div>
      </div>
      

      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/use">User Guides & Info</a>
        <div class="navbar-dropdown">
          

          
          
            
            
              
              <a class="navbar-item" href="/en/setup">Setup Guide</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/user_guide">User Guide</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/workflows">Workflows</a>
            

          

          

          
          

            
            <a class="navbar-item" href="/en/models">Models</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/spec/glossary">Glossary</a>

          

          
        </div>
      </div>
      

      
      
        <a class="navbar-item" href="/en/faq">FAQ</a>
      

      
	 <span class="navbar-item">
	 
            <a href="" title="View in German"></a>
				<div class="navbar-item has-dropdown is-hoverable" style="padding-right:10px">Search
				<div class="navbar-dropdown" style="font-size: 0.75em; padding:5px">For this feature, we implemented Google Programmable Search Engine. 
					If you use it, please note that cookies may be stored and Privacy Policy by Google LLC applies: 
					<a href="https://policies.google.com/privacy">https://policies.google.com/privacy</a> 
					<button onclick="ToggleSearchActive2()" id="button-header">Agree, show me Google Search!</button></div>
				</div>
				<div id="google-search-header" style="visibility: hidden">
					<div class="gcse-search"></div>
				</div>
			
	</span>
    </div>

    <div class="navbar-end">

      <span class="navbar-item">
        
          <a href="https://translate.google.com/translate?hl=&sl=en&tl=de&u=https%3A%2F%2Focr-d.de%2Fen%2Fsetup" title="View in German">
            de
          </a>
        </span>


    </div> </div> </nav>
<div class="wrapper has-toc">
      
      <div id="toc-sidebar-toggle">
        <a class="button is-outlined is-link" title="
          Toggle Table of Contents
          
        ">
          <i class="fa"></i>
        </a>
      </div>
      <aside id="toc-sidebar">
        <div class="toc-wrapper">
          <div class="toc-header">
            <h2>
              Table of Contents
              
            </h2>
          </div>
          <div class="toc-body">
            <ul class="menu-list">
  <li><a href="#ocr-d-setup-guide">OCR-D setup guide</a>
    <ul>
      <li><a href="#system-requirements">System requirements</a></li>
      <li><a href="#installation">Installation</a>
        <ul>
          <li><a href="#ocrd_all">ocrd_all</a></li>
          <li><a href="#installation-docker-or-native">Installation: Docker or Native</a></li>
        </ul>
      </li>
      <li><a href="#ocrd_all-via-docker">ocrd_all via Docker</a>
        <ul>
          <li><a href="#prerequisites">Prerequisites</a></li>
          <li><a href="#mini-medi-maxi">mini medi maxi</a></li>
          <li><a href="#fetch-docker-image">Fetch Docker image</a></li>
          <li><a href="#testing-the-docker-installation">Testing the Docker installation</a></li>
          <li><a href="#updating-docker-image">Updating Docker image</a></li>
          <li><a href="#further-reading">Further reading</a></li>
        </ul>
      </li>
      <li><a href="#ocrd_all-natively">ocrd_all natively</a>
        <ul>
          <li><a href="#installation-1">Installation</a></li>
          <li><a href="#testing-the-native-installation">Testing the native installation</a></li>
          <li><a href="#updating-the-software">Updating the software</a></li>
          <li><a href="#further-reading-1">Further reading</a></li>
        </ul>
      </li>
      <li><a href="#individual-installation-experts-only">Individual installation (experts only)</a>
        <ul>
          <li><a href="#individual-docker-container">Individual Docker container</a></li>
          <li><a href="#native-installation">Native installation</a>
            <ul>
              <li><a href="#virtualenv">virtualenv</a></li>
              <li><a href="#from-pypi">From PyPI</a></li>
              <li><a href="#from-git">From git</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#installing-models">Installing models</a></li>
    </ul>
  </li>
</ul>

          </div>
        </div>
      </aside>
      

      <main class="container content " aria-label="Content">
        <h1 id="ocr-d-setup-guide">OCR-D setup guide</h1>

<p>OCR-D’s software is a modular collection of many projects (called <em>modules</em>)
with many tools per module (called <em>processors</em>) that you can combine freely
to achieve the workflow best suited for OCRing your content.</p>

<h2 id="system-requirements">System requirements</h2>

<p>Minimum system requirements</p>
<details>
<summary> 8 GB RAM (more recommended)</summary>
  
  - The more RAM is available, the more concurrent processes can be run<br />
  - Exceedingly large images (newspapers, folio-size books...) require a lot of RAM
  
</details>
<details>
<summary> 20 GB free disk space for local installation (more recommended)</summary>
  
  - How much disk space is needed depends mainly on the individual purposes of the installation. In addition to the installation itself 
  you will need space for various <a href="https://ocr-d.de/en/models">pretrained models</a>, training and evaluation data for training, and data to process.
  
</details>
<details>
<summary> Python 3.6 or 3.7</summary>
  
  - OCR-D's target Python version is currently Python 3.6 which we will continue to support until at least Q3 2022<br />
  - Python 3.7 is also tested and supported<br />
  - Python 3.8 and newer versions are not yet fully supported, since there are no pre-built Python packages for Tensorflow 2.5 and &lt;2 and other related software. We expect to unconditionally support Python 3.8 once all processors and models are upgraded to work with a more recent Tensorflow.
  
</details>
<details>
<summary> Operating system: Ubuntu 18.04 (or Docker)</summary>
  - For installation on Windows 10 (WSL) and macOS see the setup guides in the [OCR-D-Wiki](https://github.com/OCR-D/ocrd-website/wiki).
  - Ubuntu 18.04 is our target platform because it was the most up-to-date Ubuntu LTS release when we started developing and <a href="https://ubuntu.com/about/release-cycle">will be supported for the foreseeable future</a><br />
  - Ubuntu 22.04 is now (2022) the current Ubuntu LTS, seems to work, too, and will be our next target platform.<br />
  - Other Linux distributions or Ubuntu versions can also be used, though some instructions have to be adapted (e.g. package management, locations of some files)<br />
  - With Windows Subsystem for Linux (WSL), a feature of Windows 10, it is <a href="https://github.com/OCR-D/ocrd-website/wiki/OCR-D-on-Windows">also possible to set up an Ubuntu 18.04 installation within Microsoft Windows</a>
  - OCR-D can be deployed on an <a href="https://github.com/OCR-D/ocrd-website/wiki/OCR-D-on-macOS">Apple MacOSX machine using Homebrew</a>
  
</details>

<h2 id="installation">Installation</h2>

<h3 id="ocrd_all">ocrd_all</h3>

<p><code class="language-plaintext highlighter-rouge">ocrd_all</code> is the main way to distribute and install the OCR-D software. 
If you want to produce OCR output from image data, 
this is what you need.</p>

<details>
    <summary>Tell me more about ocrd_all</summary>
    
The [`ocrd_all`](https://github.com/OCR-D/ocrd_all) project is an effort by the
OCR-D community, now maintained by the OCR-D coordination team. It streamlines
the native installation of OCR-D modules with a versatile Makefile approach.
Besides allowing native installation of the full OCR-D stack (or any subset),
it is also the base for the [`ocrd/all`](https://hub.docker.com/r/ocrd/all)
Docker images available from DockerHub that contain the full stack (or certain subsets)
of OCR-D modules ready for deployment.

Technically, [`ocrd_all`](https://github.com/OCR-D/ocrd_all) is a Git repository 
that keeps all the necessary software as Git submodules at specific revisions. 
This way, the software tools are known to be at a stable version and guaranteed to 
be interoperable with one another.
    
  </details>

<h3 id="installation-docker-or-native">Installation: Docker or Native</h3>

<p>There are two methods to install OCR-D:</p>

<ol>
  <li><strong><a href="#ocrd_all-via-docker">Docker Installation of OCR-D</a></strong> using the prebuilt <code class="language-plaintext highlighter-rouge">ocrd/all</code> <a href="https://hub.docker.com/r/ocrd/all">Docker images</a> to install a module collection (<strong>recommended</strong>)</li>
  <li><strong><a href="#ocrd_all-natively">Native Installation of OCR-D</a></strong> using the <code class="language-plaintext highlighter-rouge">ocrd_all</code> <a href="https://github.com/OCR-D/ocrd_all">git repository</a> to install selected modules natively</li>
</ol>

<p>We recommend using the prebuilt Docker images, since this does not require any changes to
the host system besides <a href="https://hub.docker.com/r/ocrd/all">installing Docker</a>.</p>

<details>
    <summary>Installation of individual OCR-D modules</summary>
Sometimes it can be useful to [install the modules individually](#individual-installation-experts-only), either via Docker or natively.
Beware that we do not recommend installing modules individually, as it can be difficult to catch all dependencies, 
keep the software versions up-to-date and ensure that all components are at a usable and interoperable state.

  </details>

<h2 id="ocrd_all-via-docker">ocrd_all via Docker</h2>

<h3 id="prerequisites">Prerequisites</h3>

<p>If you want to use the OCR-D-via-Docker solution, <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-using-the-repository">docker</a> and <a href="https://docs.docker.com/compose/install/">docker compose</a> have to be installed.</p>

<p>After installing docker you may have to set up and start the docker daemon and add your user to the <code class="language-plaintext highlighter-rouge">docker</code> group:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Start docker daemon at startup</span>
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker
<span class="c"># Add user to group 'docker'</span>
<span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="nv">$USER</span>
</code></pre></div></div>

<p><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png" alt="warning" style="zoom:33%;" /> Please log out and log in again.</p>

<p>To test access to docker try the following command:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker images
</code></pre></div></div>

<p>Now you should see an (empty) list of available images.</p>

<h3 id="mini-medi-maxi">mini medi maxi</h3>

<p>There are three versions of the
<a href="https://hub.docker.com/r/ocrd/all"><code class="language-plaintext highlighter-rouge">ocrd/all</code></a> Docker image:
<code class="language-plaintext highlighter-rouge">minimum</code>, <code class="language-plaintext highlighter-rouge">medium</code> and <code class="language-plaintext highlighter-rouge">maximum</code>. They differ in which modules are included
and hence the size of the image:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">minimum</code> is comprised of the essential OCR-D components, with Tesseract and OCRopus as OCR engines.</li>
  <li><code class="language-plaintext highlighter-rouge">medium</code> adds the Calamari OCR engine, as well as extra segmentation, pre- and postprocessing options.</li>
  <li><code class="language-plaintext highlighter-rouge">maximum</code> includes all modules for best performance and full flexibility, but requires the most disk space.</li>
</ul>

<p>We encourage the use of the relatively large but complete <code class="language-plaintext highlighter-rouge">maximum</code> image. 
The <code class="language-plaintext highlighter-rouge">minimum</code> or <code class="language-plaintext highlighter-rouge">medium</code> images should only be used when certain that none but the included OCR-D 
modules are needed.</p>

<details>
  <summary>Click here for a table showing the modules included in each version</summary>

  <table>
    <thead>
      <tr>
        <th>Module</th>
        <th><code class="language-plaintext highlighter-rouge">minimum</code></th>
        <th><code class="language-plaintext highlighter-rouge">medium</code></th>
        <th><code class="language-plaintext highlighter-rouge">maximum</code></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>core</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_cis</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_fileformat</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_im6convert</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_pagetopdf</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_repair_inconsistencies</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_tesserocr</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_wrap</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>tesserocr</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>workflow-configuration</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>cor-asv-ann</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>dinglehopper</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>docstruct</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>format-converters</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_calamari</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_keraslm</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_olahd_client</td>
        <td>☑</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_olena</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_segment</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>tesseract</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_neat</td>
        <td>-</td>
        <td>☑</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_anybaseocr</td>
        <td>-</td>
        <td>-</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_detectron2</td>
        <td>-</td>
        <td>-</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_doxa</td>
        <td>-</td>
        <td>-</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_kraken</td>
        <td>-</td>
        <td>-</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>ocrd_ocropy</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>ocrd_pc_segmentation</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
      <tr>
        <td>ocrd_typegroups_classifier</td>
        <td>-</td>
        <td>-</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>sbb_binarization</td>
        <td>-</td>
        <td>-</td>
        <td>☑</td>
      </tr>
      <tr>
        <td>cor-asv-fst</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>
    </tbody>
  </table>

</details>

<h3 id="fetch-docker-image">Fetch Docker image</h3>

<p>To fetch the <code class="language-plaintext highlighter-rouge">maximum</code> version of the <code class="language-plaintext highlighter-rouge">ocrd/all</code> Docker image:<br /> 
(replace <code class="language-plaintext highlighter-rouge">maximum</code> accordingly if you want the <code class="language-plaintext highlighter-rouge">minimum</code> or <code class="language-plaintext highlighter-rouge">medium</code> version)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ocrd/all:maximum
</code></pre></div></div>

<details>
    <summary>Docker and git images</summary>
If you want to keep the modules' git repos inside the Docker images – so you can keep making 
fast updates, without waiting for a new pre-built image, but also without building an image yourself – 
then add the suffix `-git` to the image version, e.g. `maximum-git`. This will behave like the native installation, 
only inside the container. Yes, you can also [commit changes](https://rollout.io/blog/using-docker-commit-to-create-and-change-an-image/) 
made in containers back to your local Docker image.)
  </details>

<h3 id="testing-the-docker-installation">Testing the Docker installation</h3>

<p>To start, download and extract a document from the <a href="https://ola-hd.ocr-d.de/search?q=&amp;fulltextsearch=false&amp;metadatasearch=false&amp;isGT=true&amp;perPageRecords=30">OCR-D GT Repo</a>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget <span class="s2">"https://ola-hd.ocr-d.de/api/export?id=21.T11998/0000-001C-F82E-8&amp;internalId=false"</span> <span class="nt">-O</span> wundt_grundriss_1896.ocrd.zip
unzip wundt_grundriss_1896.ocrd.zip
<span class="nb">cd </span>data
</code></pre></div></div>

<p>Now, spin up the docker container:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--user</span> <span class="si">$(</span><span class="nb">id</span> <span class="nt">-u</span><span class="si">)</span> <span class="nt">--workdir</span> /data <span class="nt">--volume</span> <span class="nv">$PWD</span>:/data <span class="nt">--rm</span> <span class="nt">-it</span> ocrd/all bash
</code></pre></div></div>

<p>Your command line should start with something similar to:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I have no name!@ade9a4692fcd:/data<span class="err">$</span>
</code></pre></div></div>

<p>After spinning up the container, you can use the installation and call the processors the same way as in the native installation.</p>

<p>Alternatively, you can <a href="/en/user_guide#translating-native-commands-to-docker-calls">translate each command to a docker call</a>.</p>

<p>Let’s segment the images in file group <code class="language-plaintext highlighter-rouge">OCR-D-IMG</code> from the zip file into regions, thereby creating a 
METS file group <code class="language-plaintext highlighter-rouge">OCR-D-SEG-BLOCK-DOCKER</code>):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd-tesserocr-segment-region <span class="nt">-I</span> OCR-D-IMG <span class="nt">-O</span> OCR-D-SEG-BLOCK-DOCKER
</code></pre></div></div>

<p>When you are finished using OCR-D commands, use this command to stop using docker interactively:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">exit</span>
</code></pre></div></div>

<h3 id="updating-docker-image">Updating Docker image</h3>

<p>To update the Docker image to the latest version, just run the <code class="language-plaintext highlighter-rouge">docker pull</code> command:<br /> 
(replace <code class="language-plaintext highlighter-rouge">maximum</code> accordingly if you use the <code class="language-plaintext highlighter-rouge">minimum</code> or <code class="language-plaintext highlighter-rouge">medium</code> version)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ocrd/all:maximum
</code></pre></div></div>

<h3 id="further-reading">Further reading</h3>

<p>We recommend jumping to the <a href="#installing-models">section about installing models at the bottom of this page</a> next.
Alternatively, for instructions on how to proceed further with the processing of your data, please see the <a href="/en/user_guide">user guide</a>. Make sure to also read <a href="/en/user_guide#translating-native-commands-to-docker-calls">the notes on translating native command line calls to docker calls</a>.</p>

<h2 id="ocrd_all-natively">ocrd_all natively</h2>

<p>The <code class="language-plaintext highlighter-rouge">ocrd_all</code> project contains a sophisticated Makefile to install or compile
prerequisites as necessary, set up a virtualenv, install the core software,
install OCR-D modules and more. Detailed documentation <a href="https://github.com/OCR-D/ocrd_all">can be found in its
README</a>.</p>

<h3 id="installation-1">Installation</h3>

<p>There are some <a href="https://github.com/OCR-D/ocrd_all#system-packages">system requirements</a> for ocrd_all.</p>

<p>You need to have <code class="language-plaintext highlighter-rouge">make</code> installed to make use of <code class="language-plaintext highlighter-rouge">ocrd_all</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>make
</code></pre></div></div>

<p>Clone the repository (still without submodules) and change into the <code class="language-plaintext highlighter-rouge">ocrd_all</code> directory:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/OCR-D/ocrd_all
<span class="nb">cd </span>ocrd_all
</code></pre></div></div>
<p>You should now be in a directory called <code class="language-plaintext highlighter-rouge">ocrd_all</code>.</p>

<p>It is easiest to install all the possible system requirements by calling <code class="language-plaintext highlighter-rouge">make deps-ubuntu</code> as root:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make deps-ubuntu
</code></pre></div></div>

<p>This will install all system requirements.</p>

<p>Now you are ready for the final step which will actually install the OCR-D-Software.</p>

<p>You can either install</p>
<ol>
  <li>all the software at once with the <code class="language-plaintext highlighter-rouge">all</code> target (equivalent to the <a href="#mini-medi-maxi"><code class="language-plaintext highlighter-rouge">maximum</code> Docker version</a>),</li>
  <li>modules individually by using an executable from that module as the target, or</li>
  <li>a subset of modules by listing the project names in the <code class="language-plaintext highlighter-rouge">OCRD_MODULES</code> variable (equivalent to a custom selection of the <a href="#mini-medi-maxi"><code class="language-plaintext highlighter-rouge">medium</code> Docker version</a>):</li>
</ol>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make all                       <span class="c"># Installs all the software (recommended)</span>

make ocrd-tesserocr-binarize   <span class="c"># Install ocrd_tesserocr which contains ocrd-tesserocr-binarize</span>
make ocrd-cis-ocropy-binarize  <span class="c"># Install ocrd_cis  which contains ocrd-cis-ocropy-binarize</span>

make all <span class="nv">OCRD_MODULES</span><span class="o">=</span><span class="s2">"core ocrd_tesserocr ocrd_cis"</span> <span class="c"># Will install only ocrd_tesserocr and ocrd_cis</span>
</code></pre></div></div>

<p>(Custom choices for <code class="language-plaintext highlighter-rouge">OCRD_MODULES</code> and other control variables (cf. <code class="language-plaintext highlighter-rouge">make help</code>) can also be made permanent by writing them into <code class="language-plaintext highlighter-rouge">local.mk</code>.)</p>

<p><strong>Note:</strong> Never run <code class="language-plaintext highlighter-rouge">make all</code> as root unless you know <em>exactly</em> what you are doing!</p>

<p>Installation is incremental, i.e. failed/interrupted attempts can be continued, and modules can be installed one at a time as needed.</p>

<p>Running <code class="language-plaintext highlighter-rouge">make</code> will also take care of cloning and updating all required submodules.</p>

<p>Especially running <code class="language-plaintext highlighter-rouge">make all</code> will take a while (between 30 and 60 minutes or more on slower machines). In the end, it should say that the last processor was installed successfully.</p>

<p>Having installed <code class="language-plaintext highlighter-rouge">ocrd_all</code> successfully, <code class="language-plaintext highlighter-rouge">ocrd --version</code> should give you the current version of <a href="https://github.com/OCR-D/core">OCR-D/core</a>.
Activate the virtual Python environment, which was created in the directory <code class="language-plaintext highlighter-rouge">venv</code>, before running any OCR-D command.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source </span>venv/bin/activate
ocrd <span class="nt">--version</span>
ocrd, version 2.13.2 <span class="c"># your version should be 2.13.2 or later</span>
</code></pre></div></div>

<h3 id="testing-the-native-installation">Testing the native installation</h3>

<p>For example, let’s fetch a document from the <a href="https://ocr-d-repo.scc.kit.edu/api/v1/metastore/bagit/">OCR-D GT Repo</a>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget <span class="s2">"https://ola-hd.ocr-d.de/api/export?id=21.T11998/0000-001C-F82E-8&amp;internalId=false"</span> <span class="nt">-O</span> wundt_grundriss_1896.ocrd.zip
<span class="nb">sudo </span>unzip wundt_grundriss_1896.ocrd.zip
<span class="nb">cd </span>data
</code></pre></div></div>

<p>If you haven’t done it already, activate your venv:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Activate the venv</span>
<span class="nb">source</span> /path/to/ocrd_all/venv/bin/activate
</code></pre></div></div>

<p>Let’s segment the images in file group <code class="language-plaintext highlighter-rouge">OCR-D-IMG</code> from the zip file into regions (creating a
first <a href="https://github.com/PRImA-Research-Lab/PAGE-XML">PAGE-XML</a> file group
<code class="language-plaintext highlighter-rouge">OCR-D-SEG-BLOCK</code>):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd-tesserocr-segment-region <span class="nt">-I</span> OCR-D-IMG <span class="nt">-O</span> OCR-D-SEG-BLOCK
</code></pre></div></div>

<h3 id="updating-the-software">Updating the software</h3>

<p>As <code class="language-plaintext highlighter-rouge">ocrd_all</code> is in <a href="https://github.com/OCR-D/ocrd_all/commits/master">active
development</a>, it is wise to
regularly update the repository and its submodules:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull 
</code></pre></div></div>

<p>This will refresh the local clone of ocrd_all with the changes in the official ocrd_all GitHub repository.</p>

<p>Now you can install the changes with</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make all 
</code></pre></div></div>

<p>This will run the installation process for all submodules which have been changed. In the end, it should
say that the last processor was installed successfully. <code class="language-plaintext highlighter-rouge">--version</code> for the processors which have been changed
should give you its current version.</p>

<h3 id="further-reading-1">Further reading</h3>

<p>We recommend jumping to the <a href="#installing-models">section about installing models at the bottom of this page</a> next.
For instructions on how to process your own data, please see the <a href="/en/user_guide">user guide</a>.</p>

<h2 id="individual-installation-experts-only">Individual installation (experts only)</h2>

<p>For developing purposes it might be useful to install modules individually, either with Docker or natively. 
With all variants of individual module installation, it will be up to you to
keep the repositories up-to-date and installed. We therefore discourage
individual installation of modules and recommend using ocrd_all as outlined above..</p>

<p>All <a href="https://github.com/topics/ocr-d">OCR-D modules</a> follow the same
<a href="https://ocr-d.github.io/cli">interface</a> and common design patterns. So once
you understand how to install and use one project, you know how to install and
use all of them.</p>

<h3 id="individual-docker-container">Individual Docker container</h3>

<p>This is the best option if you want full control over which modules you
actually intend to use while still profiting from the simple installation of
Docker containers.</p>

<p>You need to have <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Docker</a></p>

<p>Many OCR-D modules are also <a href="https://hub.docker.com/u/ocrd">published as Docker containers to DockerHub</a>. To find the Docker
image for a module, replace the <code class="language-plaintext highlighter-rouge">ocrd_</code> prefix with <code class="language-plaintext highlighter-rouge">ocrd/</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ocrd/tesserocr  <span class="c"># Installs ocrd_tesserocr</span>
docker pull ocrd/olena  <span class="c"># Installs ocrd_olena</span>
</code></pre></div></div>

<p>Now you can <a href="#testing-the-docker-installation">test your installation</a>.</p>

<h3 id="native-installation">Native installation</h3>

<p>Installing each module into your system natively requires you to know and install all its <em>dependencies</em> first.
That can be <em>system packages</em> (or even system package repositories) or <em>Python packages</em>.</p>

<p>To learn about system dependencies, consult the module’s README files. In contrast, Python dependencies should
be resolved automatically by using the Python package manager <code class="language-plaintext highlighter-rouge">pip</code>.</p>

<blockquote>
  <p><strong>NOTE</strong></p>

  <p>ocrd_tesserocr requires <strong>tesseract-ocr &gt;= 4.1.0</strong>. But the Tesseract packages
bundled with <strong>Ubuntu &lt; 19.10</strong> are too old. If you are on Ubuntu 18.04 LTS,
please enable <a href="https://launchpad.net/~alex-p/+archive/ubuntu/tesseract-ocr">Alexander Pozdnyakov PPA</a>,
which has up-to-date builds of tesseract and its dependencies:</p>

  <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>add-apt-repository ppa:alex-p/tesseract-ocr
<span class="nb">sudo </span>apt-get update
</code></pre></div>  </div>
</blockquote>

<p>Next subsections:</p>
<ul>
  <li>For Python you also first need <a href="#virtualenv">virtualenv</a>. Then you have two options:</li>
  <li>installing <a href="#from-pypi">via PyPI</a> or</li>
  <li>installing <a href="#from-git">via local git clone</a>.</li>
</ul>

<h4 id="virtualenv">virtualenv</h4>

<ul>
  <li><strong>Always install python modules into a virtualenv</strong></li>
  <li><strong>Never run <code class="language-plaintext highlighter-rouge">pip</code>/<code class="language-plaintext highlighter-rouge">pip3</code> as root</strong></li>
</ul>

<p>First install Python 3 and <code class="language-plaintext highlighter-rouge">venv</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>python3 python3-venv
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># If you haven't created the venv yet:</span>
python3 <span class="nt">-m</span> venv ~/venv
<span class="c"># Activate the venv</span>
<span class="nb">source</span> ~/venv/bin/activate
</code></pre></div></div>

<p>Once you have activated the virtualenv, you should see <code class="language-plaintext highlighter-rouge">(venv)</code> prepended to
your shell prompt.</p>

<h4 id="from-pypi">From PyPI</h4>

<p>This is the best option if you want to use the stable, released version of individual modules.</p>

<p>However, many modules require a number of non-Python (system) packages. For the
exact list of packages you need to look at the README of the module in
question. (If you are not on Ubuntu &gt;= 18.04, then your requirements may
deviate from that.)</p>

<p>For example to install <code class="language-plaintext highlighter-rouge">ocrd_tesserocr</code> from PyPI:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>git python3 python3-pip python3-venv libtesseract-dev libleptonica-dev tesseract-ocr-eng tesseract-ocr wget
pip3 <span class="nb">install </span>ocrd_tesserocr
</code></pre></div></div>

<p>Many ocrd modules conventionally contain a Makefile with a <code class="language-plaintext highlighter-rouge">deps-ubuntu</code> target that can handle calls to <code class="language-plaintext highlighter-rouge">apt-get</code> for you:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make deps-ubuntu
</code></pre></div></div>

<p>Now you can <a href="#testing-the-native-installation">test your installation</a>.</p>

<h4 id="from-git">From git</h4>

<p>This is the best option if you want to change the source code or install the latest, unpublished changes.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/OCR-D/ocrd_tesserocr
<span class="nb">cd </span>ocrd_tesserocr
<span class="nb">sudo </span>make deps-ubuntu <span class="c"># or manually with apt-get</span>
make deps             <span class="c"># or pip3 install -r requirements</span>
make <span class="nb">install</span>          <span class="c"># or pip3 install .</span>
</code></pre></div></div>

<p>If you intend to develop a module, it is best to install the module editable:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">-e</span> <span class="nb">.</span>
</code></pre></div></div>

<p>This way, you won’t have to reinstall after making changes.</p>

<p>Now you can <a href="#testing-the-native-installation">test your installation</a>.</p>

<h2 id="installing-models">Installing models</h2>

<p>Several processors in OCR-D need pretrained models you have to install beforehand. 
Please consult our <a href="/en/models">instruction on models</a> to get more information on how to download and install them.</p>

      </main>
    </div><footer class="footer" style="padding: 1rem">
    <div class="content has-text-centered">
      <img class="footer-logo" src="/assets/dfg_logo_eng.jpg" alt="DFG logo"/>
    </div>
    <!-- <div class="content has-text-centered"> -->
    <!--   <img class="footer-logo" src="/assets/logo-bbaw.png" alt="BBAW logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-hab.gif" alt="HAB logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-kit.png" alt="KIT logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-sbb.png" alt="SBB logo"/> -->
    <!-- </div> -->
    <div class="content has-text-centered">
		<a href="https://github.com/OCR-D">GitHub</a>
		|
		<a href="https://gitter.im/OCR-D/Lobby">Gitter</a>
		|
		<a href="https://twitter.com/OCR_D_community">Twitter</a>
		|
		<a href="https://github.com/OCR-D/ocrd-website/wiki">Wiki</a>
		|
		<a href="https://hub.docker.com/u/ocrd">Docker Hub</a>
		|
		<a href="https://www.zotero.org/groups/418719/ocr-d">Technology Watch</a>
		|
		<a href="/sitemap.xml">sitemap.xml</a>
		|
		
			<a href="/en/imprint">Imprint</a>
		
    </div>

<script src="/assets/script.js"></script>
</footer>
</body>

</html>
