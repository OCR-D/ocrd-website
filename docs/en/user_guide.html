<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="shortcut icon" href="https://avatars0.githubusercontent.com/u/26362587?s=200&amp;v=4"></link>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/bulma.css"></link>
  <link rel="stylesheet" href="/assets/syntax-highlight.css"></link>
  <style>
  #swagger-ui pre.version {
    padding: 2px !important;
    background: initial !important;
  }
  #swagger-ui .topbar {
    display: none;
  }
  blockquote {
    background: #f99;
  }
  aside.menu > ul { 
    position: fixed;
    overflow-y: auto;
    height: calc(100vh - 150px);
  }
  body > #swagger-ui,
  body > .columns {
    margin-top: 55px;
  }
  h2 code, h3 code, h4 code {
    color: black;
  }
  .title-image  img {
    max-height: 300px;
  }

  /* hide banner and navbar of gt guidelines / pagexml docs */
  header[role="banner"] { display: none; }
  nav[role="toc"] { display: none; }
  footer[role="contentinfo"] { display: none; }

  /* hide stuff from sphinx docs */
  div.related[role="navigation"] { display: none; }
  div.footer[role="contentinfo"] { display: none; }

  /* dfg logo */
  footer.footer img.footer-logo { max-height: 100px; }

  </style>
</head>
<body><nav class="navbar is-transparent is-fixed-top">

  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/assets/ocrd-logo-small.png" height="28"/>
    </a>
    <div class="navbar-burger burger" data-target="ocrd-navbar-menu">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <div id="ocrd-navbar-menu" class="navbar-menu">
    <div class="navbar-start">
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/">About</a>
        <div class="navbar-dropdown">
          
          
          <a class="navbar-item" href="/en/about">The OCR-D-project</a>
          
          
          <a class="navbar-item" href="/en/contact">Get in touch!</a>
          
          
          <a class="navbar-item" href="/en/blog">Blog</a>
          
          
          <a class="navbar-item" href="/en/publications">Publications</a>
          
          
          <a class="navbar-item" href="/en/slides">Slides and presentations</a>
          
          
          <a class="navbar-item" href="/en/module-projects">Module Projects</a>
          
          
          <a class="navbar-item" href="/en/data">Data</a>
          
          
          <a class="navbar-item" href="/en/user_survey">User Survey</a>
          
          
          <a class="navbar-item" href="/en/imprint">Imprint</a>
          
        </div>
      </div>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/dev">Developers</a>
        <div class="navbar-dropdown">
          
          
          <a class="navbar-item" href="/en/gt-guidelines/trans">Ground Truth Guidelines</a>
          
          
          <a class="navbar-item" href="/en/gt-guidelines/trans/trPage">PAGE-XML format documentation</a>
          
          
          <a class="navbar-item" href="/en/spec">Specifications</a>
          
          
          <a class="navbar-item" href="/core">OCR-D/core API Documentation</a>
          
        </div>
      </div>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/use">Users</a>
        <div class="navbar-dropdown">
          
          
          <a class="navbar-item" href="/en/setup">Setup Guide</a>
          
          
          <a class="navbar-item" href="/en/user_guide">User Guide</a>
          
          
          <a class="navbar-item" href="/en/cookbook">Cookbook</a>
          
          
          <a class="navbar-item" href="/en/spec/glossary">Glossary</a>
          
        </div>
      </div>
      
      
      
      <a class="navbar-item" href="/en/faq">FAQ</a>
      
      

    </div>

    <div class="navbar-end">

      <span class="navbar-item">
        Â Â 
      </span>

    </div> </div> </nav>
<div class="columns">
      
      <aside class="column is-one-third menu">
        <ul class="menu-list column is-one-third">
  <li><a href="#user-guide-for-non-it-users-without-docker">User Guide for Non-IT Users (without Docker)</a>
    <ul>
      <li><a href="#prerequisites-and-preparations">Prerequisites and Preparations</a>
        <ul>
          <li><a href="#virtual-environment">Virtual environment</a></li>
          <li><a href="#preparing-a-workspace">Preparing a workspace</a>
            <ul>
              <li><a href="#already-existing-mets">Already Existing METS</a></li>
              <li><a href="#non-existing-mets">Non-Existing METS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#using-the-ocr-d-processors">Using the OCR-D-processors</a>
        <ul>
          <li><a href="#ocr-d-syntax">OCR-D-Syntax</a></li>
          <li><a href="#calling-a-single-processor">Calling a single processor</a></li>
          <li><a href="#calling-several-processors">Calling several processors</a>
            <ul>
              <li><a href="#ocrd-process">ocrd-process</a></li>
              <li><a href="#taverna">Taverna</a></li>
              <li><a href="#workflow-config">workflow-config</a></li>
            </ul>
          </li>
          <li><a href="#specifying-new-ocr-d-workflows">Specifying New OCR-D-Workflows</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

      </aside>
      

      <main class="container content column is-two-thirds" aria-label="Content">
        <h1 id="user-guide-for-non-it-users-without-docker">User Guide for Non-IT Users (without Docker)</h1>

<h2 id="prerequisites-and-preparations">Prerequisites and Preparations</h2>

<h3 id="virtual-environment">Virtual environment</h3>

<p>Before starting to work with the OCR-D-software you should activate the
virtualenv. This has either been installed automatically if you installed the
software via ocrd_all, or you should have installed it yourself before
installing the OCR-D-software individually.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/venv/bin/activate
</code></pre></div></div>

<p>Once you have activated the virtualenv, you should see <code class="highlighter-rouge">(venv)</code> prepended to
your shell prompt.</p>

<p>When you are done with your OCR-D-work, you can use <code class="highlighter-rouge">deactivate</code> to deactivate
your venv.</p>

<h3 id="preparing-a-workspace">Preparing a workspace</h3>

<p>OCR-D processes digitized images in so-called workspaces, special directories
which contain the images to be processed and their corresponding METS file. Any
files generated while processing these images with the OCR-D-software will also
be stored in this directory.</p>

<p>How you prepare a workspace depends on whether you already have or donâ€™t have a
METS file with the paths to the images you want to process. For usage within
OCR-D your METS file should look similar to this example.</p>

<h4 id="already-existing-mets">Already Existing METS</h4>

<p>If you already have a METS file as indicated above, you can create a workspace
and load the pictues to be processed with the following command:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd workspace clone <span class="o">[</span>URL of your mets.xml]
</code></pre></div></div>

<p>In most cases, METS files indicate several picture formats. For OCR-D you will
only need one format. We strongly recommend using the format with the best
resolution. Optionally, you can specify to only load the filegroup needed at
the end of the command above.</p>

<p>You can also optionally specify a particular name for your workspace. If you
donâ€™t, it will simply generate a name by itself.</p>

<h4 id="non-existing-mets">Non-Existing METS</h4>

<p>If you donâ€™t have a METS file or it doesnâ€™t suffice the OCR-D-requirements you
can generate it with the following commands. First, you have to create a
workspace:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd workspace init <span class="o">[</span>name of your workspace]
</code></pre></div></div>

<p>Then you can go into your workspace and set a unique ID</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>workspace<span class="nv">$ </span>ocrd workspace set-id <span class="s1">'unique ID'</span>
</code></pre></div></div>

<p>and copy the folder containing your pictures to be processed into the workspace:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> <span class="nt">-r</span> <span class="o">[</span>path to your pictures<span class="s1">' folder] .
</span></code></pre></div></div>
<p>Now you can add your pictures to the METS. When creating the workspace, a blank
METS file was created, too, to which you can add the pictures to be processed.</p>

<p>You can do this manually with the following command:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd workspace add <span class="nt">-g</span> <span class="o">[</span>ID of the physical page, has to start with a letter] <span class="nt">-G</span> <span class="o">[</span>name of picture folder <span class="k">in </span>your workspace] <span class="nt">-i</span> <span class="o">[</span>ID of the scanned page] <span class="nt">-m</span> image/[format of your pictures] <span class="o">[</span>path to your picture]
</code></pre></div></div>

<p>Your command could e.g. look like this:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd workspace add <span class="nt">-g</span> P_00001 <span class="nt">-G</span> OCR-D-IMG <span class="nt">-i</span> 00001 <span class="nt">-m</span> image/tif OCR-D-IMG/00001.tif
</code></pre></div></div>

<p>If you have many pictures to be added to the METS, you can do this automatically with a for-loop:</p>

<!-- TOOO 2020-02-04T19:19:22+01:00 Add bulk add explanation nad more snippets from gitsts etc -->

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>i <span class="k">in</span> <span class="o">[</span>name of picture folder <span class="k">in </span>your workspace].[file ending of your pictures]<span class="p">;</span> <span class="k">do </span><span class="nv">base</span><span class="o">=</span> <span class="sb">`</span><span class="nb">basename</span> <span class="k">${</span><span class="nv">i</span><span class="k">}</span> .[file ending of your pictures<span class="sb">`</span><span class="p">;</span> ocrd workspace add <span class="nt">-G</span> <span class="o">[</span>name of picture folder <span class="k">in </span>your workspace] <span class="nt">-i</span> <span class="k">${</span><span class="nv">base</span><span class="k">}</span> <span class="nt">-g</span> P_<span class="k">${</span><span class="nv">base</span><span class="k">}</span> <span class="nt">-m</span> image/[format of your pictures] <span class="k">${</span><span class="nv">i</span><span class="k">}</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div></div>

<p>Your for-loop could e.g. look like this:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>i <span class="k">in </span>OCR-D-IMG/<span class="k">*</span>.tif<span class="p">;</span> <span class="k">do </span><span class="nv">base</span><span class="o">=</span><span class="sb">`</span><span class="nb">basename</span> <span class="k">${</span><span class="nv">i</span><span class="k">}</span> .tif<span class="sb">`</span><span class="p">;</span> ocrd workspace add <span class="nt">-G</span> OCR-D-IMG <span class="nt">-i</span> <span class="k">${</span><span class="nv">base</span><span class="k">}</span> <span class="nt">-g</span> P_<span class="k">${</span><span class="nv">base</span><span class="k">}</span> <span class="nt">-m</span> image/tif <span class="k">${</span><span class="nv">i</span><span class="k">}</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div></div>

<p>In the end, your METS file should look like this example METS</p>

<h2 id="using-the-ocr-d-processors">Using the OCR-D-processors</h2>

<h3 id="ocr-d-syntax">OCR-D-Syntax</h3>

<p>There are several ways for invoking the OCR-D-processors. However, all of those
ways make use of the following syntax:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-I</span> Input-Group    <span class="c"># folder of the files to be processed</span>
<span class="nt">-O</span> Output-Group   <span class="c"># folder for the output of your processor</span>
<span class="nt">-p</span> parameter.json <span class="c"># indication of parameters for a particular processor</span>
</code></pre></div></div>

<p>For some processors parameters are purely optional, other processors as e.g. <code class="highlighter-rouge">ocrd-tesserocr-recognize</code> wonâ€™t work without one or several parameters.</p>

<h3 id="calling-a-single-processor">Calling a single processor</h3>
<p>If you just want to call a single processor, e.g. for testing purposes, you can go into your workspace and use the following command:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd-[processor needed] <span class="nt">-I</span> <span class="o">[</span>Input-Group] <span class="nt">-O</span> <span class="o">[</span>Output-Group] <span class="nt">-p</span> <span class="o">[</span>path to parameter.json]<span class="s1">'
</span></code></pre></div></div>
<p>Your command could e.g. look like this:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd-tesserocr-recognize <span class="nt">-I</span> OCR-D-SEG-LINE <span class="nt">-O</span> OCR-D-OCR-TESSEROCR <span class="nt">-p</span> param-tess-fraktur.json
</code></pre></div></div>

<p>The <a href="`parameter.json`"><code class="highlighter-rouge">parameter.json</code></a> file can be created with the following command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo '{ "[parameter]": "[specification]" }' &gt; [name of your param.json file]
</code></pre></div></div>

<p>Instead of creating a calling a <code class="highlighter-rouge">parameter.json</code> file you can also directly
write down the parameters when invoking a processor with writing your data to a JSON file, like so:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-p</span> <span class="s1">'{"[parameter]": "[specification]"}`
</span></code></pre></div></div>

<!-- TODO This we must clarify. In most cases, we avoid all complex datastructures like
    lists or objects. OTOH we support multi-group syntax by oncatenating with splitting at comma
<!-- Several parameters can be specified in a comma-seperated list:  -->

<!-- ```sh -->
<!-- -p '{"[parameter1]": "[specification1]","[parameter2]": "[specification2]"}` -->
<!-- ``` -->

<h3 id="calling-several-processors">Calling several processors</h3>

<h4 id="ocrd-process">ocrd-process</h4>

<p>If you quickly want to specify a particular workflow on the CLI, you can use
ocrd-process, which has a similar syntax as calling single processors.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd process <span class="se">\</span>
  <span class="s1">'[processor needed] -I [Input-Group] -O [Output-Group]'</span> <span class="se">\</span>
  <span class="s1">'[processor needed] -I [Input-Group] -O [Output-Group] -p [parameter.json]'</span>
</code></pre></div></div>

<p>Your command could e.g. look like this:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocrd process <span class="se">\</span>
  <span class="s1">'cis-ocropy-binarize -I OCR-D-IMG -O OCR-D-SEG-PAGE'</span> <span class="se">\</span>
  <span class="s1">'tesserocr-segment-region -I OCR-D-SEG-PAGE -O OCR-D-SEG-BLOCK'</span> <span class="se">\</span>
  <span class="s1">'tesserocr-segment-line -I OCR-D-SEG-BLOCK -O OCR-D-SEG-LINE'</span> <span class="se">\</span>
  <span class="s1">'tesserocr-recognize -I OCR-D-SEG-LINE -O OCR-D-OCR-TESSEROCR -p param-tess-fraktur.json'</span>
</code></pre></div></div>

<p>Note that in contrast to calling a single processor, for ocrd-process you leave
out the prefix <code class="highlighter-rouge">ocrd-</code> before the name of a particular processor.</p>

<h4 id="taverna">Taverna</h4>

<p>Taverna is a more sophisticated workflow-software which allows you to specify a
particular workflow in a file and call this workflow, or rather its file, on
several workspaces.</p>

<p>Note that Taverna is not included in your
<a href="https:/github.com/OCR-D/ocrd_all"><code class="highlighter-rouge">ocrd_all</code></a> installation. Therefore,
you still might have to install it following this setup guide.</p>

<p>Taverna comes with several predefined workflows which you can help you getting
started. These are stored in the <code class="highlighter-rouge">/conf</code> directory. For every workflow at least
two files are needed: A <code class="highlighter-rouge">workflow_configuration</code> file contains a particular
workflow which is invoked by a <code class="highlighter-rouge">parameters</code> file.</p>

<p>For calling a workflow via Taverna, go into the <code class="highlighter-rouge">Taverna</code> folder and use the
following command:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash startWorkflow.sh <span class="o">[</span>particular parameters.txt] <span class="o">[</span>path to your workspace]
</code></pre></div></div>

<p>The images in your indicated workspace will be processed and the respective
output will be saved into the same workspace.</p>

<p>When you want to adjust a workflow for better results on your particular
images, you should start off by copying the original <code class="highlighter-rouge">workflow_configuration</code>
and <code class="highlighter-rouge">parameters</code> files. To this end, change to the <code class="highlighter-rouge">/conf</code> subdirectory of
<code class="highlighter-rouge">Taverna</code> and use the following commands:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conf<span class="nv">$ </span><span class="nb">cp</span> <span class="o">[</span>original workflow_configuration.txt] <span class="o">[</span>name of your new workflow_configuration.txt]
conf<span class="nv">$ </span><span class="nb">cp</span> <span class="o">[</span>original parameters.txt] <span class="o">[</span>name of your new parameters.txt]
</code></pre></div></div>

<p>Open the new <code class="highlighter-rouge">parameters.txt</code> file with an editor like e.g. Nano and change the
name of the old <code class="highlighter-rouge">workflow_configuration.txt</code> specified in this file to the name
of your new <code class="highlighter-rouge">workflow_configuration.txt</code> file:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano <span class="o">[</span>name of your new workflow_configuration.txt]
</code></pre></div></div>

<p>Then open your new <code class="highlighter-rouge">workflow_configuration.txt</code> file respectively and adjust it to your needs.</p>

<p>ðŸ‘·</p>

<h4 id="workflow-config">workflow-config</h4>

<p>ðŸ‘·</p>

<h3 id="specifying-new-ocr-d-workflows">Specifying New OCR-D-Workflows</h3>

<p>ðŸ‘·</p>

<p>When you want to specify a new workflow adapted to the features of particular
images, we recommend using an exisiting workflow as specified in <code class="highlighter-rouge">Taverna</code> or
<code class="highlighter-rouge">workflow-config</code> as starting point. You can adjust it to your needs by
exchanging or adding the specified processors of parameters. For an overview on
the existing processors, their tasks and features, see ???.</p>

      </main>
    </div><footer class="footer" style="padding: 1rem">
    <div class="content has-text-centered">
      <img class="footer-logo" src="/assets/dfg_logo_eng.jpg" alt="DFG logo"/>
    </div>
    <!-- <div class="content has-text-centered"> -->
    <!--   <img class="footer-logo" src="/assets/logo-bbaw.png" alt="BBAW logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-hab.gif" alt="HAB logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-kit.png" alt="KIT logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-sbb.png" alt="SBB logo"/> -->
    <!-- </div> -->
    <div class="content has-text-centered">
      <a href="https://github.com/OCR-D">GitHub</a>
      |
      <a href="https://gitter.im/OCR-D/Lobby">gitter</a>
      |
      <a href="https://hub.docker.com/u/ocrd">Docker Hub</a>
      |
      <a href="/sitemap.xml">sitemap.xml</a>
    </div>

<script src="/assets/script.js"></script>
</footer>
</body>

</html>
