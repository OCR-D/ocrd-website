<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="shortcut icon" href="https://avatars0.githubusercontent.com/u/26362587?s=200&amp;v=4"></link>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/bulma.css"></link>
  <link rel="stylesheet" href="/assets/bulma-switch.min.css"></link>
  <link rel="stylesheet" href="/assets/syntax-highlight.css"></link>
  <link rel="stylesheet" href="/assets/ocrd.css"></link>
</head>
<body><nav class="navbar is-transparent is-fixed-top">

  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/assets/ocrd-logo-small.png" height="28"/>
    </a>
    <div class="navbar-burger burger" data-target="ocrd-navbar-menu">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <div id="ocrd-navbar-menu" class="navbar-menu">
    <div class="navbar-start">
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/">About</a>
        <div class="navbar-dropdown">
          

          
          

            
            <a class="navbar-item" href="/de/phase3">OCR-D Phase III</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/about">The OCR-D-project</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/contact">Get in touch!</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/blog">Blog</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/publications">Publications and Presentations</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/module-projects">Module Projects</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/data">Data</a>

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/initial-tests">Initial tests</a>
            

          

          

          
          

            
            <a class="navbar-item" href="/en/user_survey">User Survey</a>

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/imprint">Imprint</a>
            

          

          
        </div>
      </div>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/dev">Developers</a>
        <div class="navbar-dropdown">
          

          
          

            
            <a class="navbar-item" href="/en/gt-guidelines/trans">Ground Truth Guidelines</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/gt-guidelines/trans/trPage">PAGE-XML format documentation</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/dev-best-practice">OCR-D development best practices</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/spec">Specifications</a>

          

          

          
          

            
            <a class="navbar-item" href="/core">OCR-D/core API Documentation</a>

          

          
        </div>
      </div>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link" href="/en/use">Users</a>
        <div class="navbar-dropdown">
          

          
          
            
            
              
              <a class="navbar-item" href="/en/setup">Setup Guide</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/user_guide">User Guide</a>
            

          

          

          
          
            
            
              
              <a class="navbar-item" href="/en/workflows">Workflows</a>
            

          

          

          
          

            
            <a class="navbar-item" href="/en/models">Models</a>

          

          

          
          

            
            <a class="navbar-item" href="/en/spec/glossary">Glossary</a>

          

          
        </div>
      </div>
      
      
      
        <a class="navbar-item" href="/en/faq">FAQ</a>
      
      

    </div>

    <div class="navbar-end">

      <span class="navbar-item">
          
      </span>

    </div> </div> </nav>
<div class="columns">
      

      <main class="container content column " aria-label="Content">
        <!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocrd_utils package &#8212; ocrd  documentation</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ocrd_utils.constants module" href="ocrd_utils.constants.html" />
    <link rel="prev" title="ocrd_utils" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ocrd_utils.constants.html" title="ocrd_utils.constants module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="ocrd_utils"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">ocrd  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">ocrd_utils</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ocrd_utils package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-ocrd_utils">
<span id="ocrd-utils-package"></span><h1>ocrd_utils package<a class="headerlink" href="#module-ocrd_utils" title="Permalink to this headline">¶</a></h1>
<p>Utility functions and constants usable in various circumstances.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinates_of_segment</span></code>, <code class="docutils literal notranslate"><span class="pre">coordinates_for_segment</span></code></p>
<blockquote>
<div><p>These functions convert polygon outlines for PAGE elements on all hierarchy
levels below page (i.e. region, line, word, glyph) between relative coordinates
w.r.t. a corresponding image and absolute coordinates w.r.t. the top-level image.
This includes rotation and offset correction, based on affine transformations.
(Used by <code class="docutils literal notranslate"><span class="pre">Workspace</span></code> methods <code class="docutils literal notranslate"><span class="pre">image_from_page</span></code> and <code class="docutils literal notranslate"><span class="pre">image_from_segment</span></code>)</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotate_coordinates</span></code>, <code class="docutils literal notranslate"><span class="pre">shift_coordinates</span></code>, <code class="docutils literal notranslate"><span class="pre">transpose_coordinates</span></code>, <code class="docutils literal notranslate"><span class="pre">transform_coordinates</span></code></p>
<blockquote>
<div><p>These backend functions compose affine transformations for reflection, rotation
and offset correction of coordinates, or apply them to a set of points. They can be
used to pass down the coordinate system along with images (both invariably sharing
the same operations context) when traversing the element hierarchy top to bottom.
(Used by <code class="docutils literal notranslate"><span class="pre">Workspace</span></code> methods <code class="docutils literal notranslate"><span class="pre">image_from_page</span></code> and <code class="docutils literal notranslate"><span class="pre">image_from_segment</span></code>).</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotate_image</span></code>, <code class="docutils literal notranslate"><span class="pre">crop_image</span></code>, <code class="docutils literal notranslate"><span class="pre">transpose_image</span></code></p>
<blockquote>
<div><p>These PIL.Image functions are safe replacements for the <code class="docutils literal notranslate"><span class="pre">rotate</span></code>, <code class="docutils literal notranslate"><span class="pre">crop</span></code>, and
<code class="docutils literal notranslate"><span class="pre">transpose</span></code> methods.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">image_from_polygon</span></code>, <code class="docutils literal notranslate"><span class="pre">polygon_mask</span></code></p>
<blockquote>
<div><p>These functions apply polygon masks to PIL.Image objects.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">xywh_from_points</span></code>, <code class="docutils literal notranslate"><span class="pre">points_from_xywh</span></code>, <code class="docutils literal notranslate"><span class="pre">polygon_from_points</span></code> etc.</p>
<blockquote>
<div><p>These functions have the syntax <code class="docutils literal notranslate"><span class="pre">X_from_Y</span></code>, where <code class="docutils literal notranslate"><span class="pre">X</span></code>/<code class="docutils literal notranslate"><span class="pre">Y</span></code> can be</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">bbox</span></code> is a 4-tuple of integers x0, y0, x1, y1 of the bounding box (rectangle)</p>
<p>(used by PIL.Image)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">points</span></code> a string encoding a polygon: <code class="docutils literal notranslate"><span class="pre">&quot;0,0</span> <span class="pre">100,0</span> <span class="pre">100,100,</span> <span class="pre">0,100&quot;</span></code></p>
<p>(used by PAGE-XML)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">polygon</span></code> is a list of 2-lists of integers x, y of points forming an (implicitly closed) polygon path: <code class="docutils literal notranslate"><span class="pre">[[0,0],</span> <span class="pre">[100,0],</span> <span class="pre">[100,100],</span> <span class="pre">[0,100]]</span></code></p>
<p>(used by opencv2 and higher-level coordinate functions in ocrd_utils)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">xywh</span></code> a dict with keys for x, y, width and height: <code class="docutils literal notranslate"><span class="pre">{'x':</span> <span class="pre">0,</span> <span class="pre">'y':</span> <span class="pre">0,</span> <span class="pre">'w':</span> <span class="pre">100,</span> <span class="pre">'h':</span> <span class="pre">100}</span></code></p>
<p>(produced by tesserocr and image/coordinate recursion methods in ocrd.workspace)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">x0y0x1y1</span></code> is a 4-list of strings <code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">y0</span></code>, <code class="docutils literal notranslate"><span class="pre">x1</span></code>, <code class="docutils literal notranslate"><span class="pre">y1</span></code> of the bounding box (rectangle)</p>
<p>(produced by tesserocr)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">y0x0y1x1</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">x0y0x1y1</span></code> with positions of <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> in the list swapped</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_local_filename</span></code>, <code class="docutils literal notranslate"><span class="pre">safe_filename</span></code>, <code class="docutils literal notranslate"><span class="pre">abspath</span></code>, <code class="docutils literal notranslate"><span class="pre">get_local_filename</span></code></p>
<blockquote>
<div><p>FS-related utilities</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_string</span></code>, <code class="docutils literal notranslate"><span class="pre">membername</span></code>, <code class="docutils literal notranslate"><span class="pre">concat_padded</span></code>, <code class="docutils literal notranslate"><span class="pre">nth_url_segment</span></code>, <code class="docutils literal notranslate"><span class="pre">remove_non_path_from_url</span></code>, <code class="docutils literal notranslate"><span class="pre">parse_json_string_with_comments</span></code>, <code class="docutils literal notranslate"><span class="pre">parse_json_string_or_file</span></code>, <code class="docutils literal notranslate"><span class="pre">set_json_key_value_overrides</span></code>, <code class="docutils literal notranslate"><span class="pre">assert_file_grp_cardinality</span></code>, <code class="docutils literal notranslate"><span class="pre">make_file_id</span></code></p>
<blockquote>
<div><p>String and OOP utilities</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">MIMETYPE_PAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">EXT_TO_MIME</span></code>, <code class="docutils literal notranslate"><span class="pre">MIME_TO_EXT</span></code>, <code class="docutils literal notranslate"><span class="pre">VERSION</span></code></p>
<blockquote>
<div><p>Constants</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">logging</span></code>, <code class="docutils literal notranslate"><span class="pre">setOverrideLogLevel</span></code>, <code class="docutils literal notranslate"><span class="pre">getLevelName</span></code>, <code class="docutils literal notranslate"><span class="pre">getLogger</span></code>, <code class="docutils literal notranslate"><span class="pre">initLogging</span></code></p>
<blockquote>
<div><p>Exports of ocrd_utils.logging</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">deprecated_alias</span></code></p>
<blockquote>
<div><p>Decorator to mark a kwarg as deprecated</p>
</div></blockquote>
</li>
</ul>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.constants.html">ocrd_utils.constants module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.deprecate.html">ocrd_utils.deprecate module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.image.html">ocrd_utils.image module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.introspect.html">ocrd_utils.introspect module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.logging.html">ocrd_utils.logging module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.os.html">ocrd_utils.os module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ocrd_utils.str.html">ocrd_utils.str module</a></li>
</ul>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ocrd_utils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">ocrd_utils</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ocrd_utils.constants.html"
                        title="next chapter">ocrd_utils.constants module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/ocrd_utils/ocrd_utils.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ocrd_utils.constants.html" title="ocrd_utils.constants module"
             >next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="ocrd_utils"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">ocrd  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >ocrd_utils</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ocrd_utils package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Kay Wuerzner, Konstantin Baierer.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>
      </main>
    </div><footer class="footer" style="padding: 1rem">
    <div class="content has-text-centered">
      <img class="footer-logo" src="/assets/dfg_logo_eng.jpg" alt="DFG logo"/>
    </div>
    <!-- <div class="content has-text-centered"> -->
    <!--   <img class="footer-logo" src="/assets/logo-bbaw.png" alt="BBAW logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-hab.gif" alt="HAB logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-kit.png" alt="KIT logo"/> -->
    <!--   <img class="footer-logo" src="/assets/logo-sbb.png" alt="SBB logo"/> -->
    <!-- </div> -->
    <div class="content has-text-centered">
      <a href="https://github.com/OCR-D">GitHub</a>
      |
      <a href="https://gitter.im/OCR-D/Lobby">gitter</a>
      |
      <a href="https://github.com/OCR-D/ocrd-website/wiki">Wiki</a>
      |
      <a href="https://hub.docker.com/u/ocrd">Docker Hub</a>
      |
      <a href="https://www.zotero.org/groups/418719/ocr-d">Technology Watch</a>
      |
      <a href="/sitemap.xml">sitemap.xml</a>
    </div>

<script src="/assets/script.js"></script>
</footer>
</body>

</html>
